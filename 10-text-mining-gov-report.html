
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>ç¬¬å…«ç«  æ–‡æœ¬æŒ–æ˜ &#8212; è®¡ç®—ä¼ æ’­å­¦</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="è¯å‘é‡æ¨¡å‹ç®€ä»‹" href="10-word2vec.html" />
    <link rel="prev" title="VGG16é¢„è®­ç»ƒæ¨¡å‹" href="09-16-pytorch_vgg_pretrained.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/socrates_jump.gif" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">è®¡ç®—ä¼ æ’­å­¦</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    å¯»æ‰¾äººç±»ä¼ æ’­è¡Œä¸ºçš„åŸºå› 
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="01-intro2cjc.html">
   ç¬¬ä¸€ç«  è®¡ç®—ä¼ æ’­å­¦ç®€ä»‹
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="02-bigdata.html">
     æ•°æ®ç§‘å­¦çš„ç¼–ç¨‹å·¥å…·ï¼šå¤§æ•°æ®
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="03-python-intro.html">
   ç¬¬äºŒç«  æ•°æ®ç§‘å­¦çš„ç¼–ç¨‹å·¥å…·
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="0-jupyter-notebook.html">
     Jupyter Notebook
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="01-recombination.html">
     è®¡ç®—æ€ç»´ï¼šé€šè¿‡æ‹†è§£å’Œé‡ç»„å­¦ä¹ 
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="0-slides.html">
     ä½¿ç”¨Jupyteråˆ¶ä½œSlidesçš„ä»‹ç»
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="0-turicreate.html">
     Turicreate: Departure from Graphlab
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="0-matplotlib-chinese.html">
     è§£å†³Matplotlibç»˜å›¾æ˜¾ç¤ºä¸­æ–‡é—®é¢˜
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03-UK-MPS-Scandal.html">
     æ¡ˆä¾‹ï¼š2009å¹´è‹±å›½å›½ä¼šè®®å‘˜å¼€æ”¯ä¸‘é—»
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03-umbrella-of-love.html">
     æ¡ˆä¾‹ï¼šã€Šè½¬è§’é‡åˆ°çˆ±ã€‹èƒŒåçš„æ•°æ®
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03-who-runs-China.html">
     æ¡ˆä¾‹ï¼šWho runs Chinaï¼ŸèƒŒåçš„æ•°æ®
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03-gdelt.html">
     Gdelt Dataset: Events, Mentions, and Global Knowledge Graph
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="04-crawler-beautifulsoup.html">
   ç¬¬ä¸‰ç«  æ•°æ®æŠ“å–
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-fact-checking.html">
     æŠ“å–å®æ—¶è¾Ÿè°£æ•°æ®
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-13chambers.html">
     æŠ“å–ç½‘ç»œå°è¯´
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-wechat.html">
     æŠ“å–å¾®ä¿¡å…¬ä¼—å·æ–‡ç« å†…å®¹
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-douban.html">
     ä½¿ç”¨requests + XpathæŠ“å–è±†ç“£ç”µå½±æ•°æ®
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-gov-report.html">
     æŠ“å–å†å±Šæ”¿åºœå·¥ä½œæŠ¥å‘Š
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-cppcc.html">
     æŠ“å–æ±Ÿè‹çœæ”¿ååå¹´ææ¡ˆ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-netease-music.html">
     æŠ“å–ç½‘æ˜“äº‘éŸ³ä¹çƒ­é—¨è¯„è®º
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-selenium.html">
     ä½¿ç”¨Seleniumæ“çºµæµè§ˆå™¨
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-selenium-music-history.html">
     æŠ“å–ç½‘æ˜“äº‘éŸ³ä¹ç”¨æˆ·çš„å¬æ­Œè®°å½•
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-selenium-people-com-search.html">
     ä½¿ç”¨Seleniumæå–äººæ°‘ç½‘æœç´¢æ•°æ®
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-tripadvisor.html">
     ä½¿ç”¨SeleniumæŠ“å–TripAdvisorç”¨æˆ·è¯„è®º
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-pyppeteer.html">
     ä½¿ç”¨Pyppeteerå®ç°å¼‚æ­¥æŠ“å–!
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-weibo.html">
     è½»å‹å¾®åšçˆ¬è™«
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="06-data-cleaning-intro.html">
   ç¬¬å››ç«  æ•°æ®æ¸…æ´—
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="06-data-cleaning-preprocessing.html">
     å¯¹å¤§æ•°æ®è¿›è¡Œé¢„å¤„ç†
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06-data-cleaning-tweets.html">
     æ•°æ®æ¸…æ´—ä¹‹æ¨ç‰¹æ•°æ®
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06-data-cleaning-occupy-central-news.html">
     å¯¹å ä¸­æ–°é—»è¿›è¡Œæ•°æ®æ¸…æ´—
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06-data-cleaning-music-list.html">
     æ¸…æ´—éŸ³ä¹åˆ—è¡¨ğŸµ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06-data-cleaning-pandas.html">
     ä½¿ç”¨Pandasè¿›è¡Œæ•°æ®æ¸…æ´—
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="08-01-statistics-thinking.html">
   ç¬¬äº”ç«  ç»Ÿè®¡æ€ç»´
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="08-02-kl-divergence.html">
     KL Divergence
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-02-linear-algebra.html">
     Linear algebra
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-03-distributions.html">
     Distribution Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-03-probability.html">
     Probability
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-04-hypothesis-inference.html">
     Statistical Hypothesis Testing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-05-gradient-descent.html">
     Introduction to Gradient Descent
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-06-regression.html">
     Linear Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-06-statsmodels.html">
     Statistical Modeling with Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-07-analyzing-titanic-dataset.html">
     Logistic Regression of Titanic Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-07-covid19-pew-survey.html">
     Analysing the Pew Survey Data of COVID19
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-11-cfps-survey-analysis.html">
     ä¸­å›½å®¶åº­è¿½è¸ªè°ƒæŸ¥2018
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-08-covid19-grangercausality.html">
     ç¤¾äº¤åª’ä½“å¯ä»¥é¢„æµ‹æ–°å† ç–«æƒ…å—ï¼Ÿ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-09-survival-analysis.html">
     Survival Analysis with Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-10-dowhy-estimation-methods.html">
     The Book of Why
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="09-01-machine-learning-with-sklearn.html">
   ç¬¬å…­ç«  ç¤¾ä¼šç§‘å­¦å®¶çš„æœºå™¨å­¦ä¹ 
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="09-03-hyperparameters-and-model-validation.html">
     Hyperparameters and Model Validation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-04-feature-engineering.html">
     Feature Engineering
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-05-naive-bayes.html">
     In Depth: Naive Bayes Classification
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-06-linear-regression.html">
     In Depth: Linear Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-07-support-vector-machines.html">
     In-Depth: Support Vector Machines
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-08-random-forests.html">
     In-Depth: Decision Trees and Random Forests
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-09-googleflustudy.html">
     Forecasting and nowcasting with Google Flu Trends
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-10-future-employment.html">
     The future of employment
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-grf.html">
     Causal Forests
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="09-11-neural-network-intro.html">
   ç¬¬ä¸ƒç«  ç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ 
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="09-13-cnn.html">
     Convolutional Networks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-14-rnn.html">
     Sequnce Modeling: Recurrent and Recursive Nets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-12-hand-written-digits.html">
     Recognizing Hand-Written Digits with Neural Networks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-15-cifar10.html">
     ä½¿ç”¨CNNå¯¹CIFAR10å›¾åƒè¿›è¡Œåˆ†ç±»
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-16-pytorch_vgg_pretrained.html">
     VGG16é¢„è®­ç»ƒæ¨¡å‹
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="current reference internal" href="#">
   ç¬¬å…«ç«  æ–‡æœ¬æŒ–æ˜
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="10-word2vec.html">
     è¯å‘é‡æ¨¡å‹ç®€ä»‹
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="10-doc2vec.html">
     Doc2Vec
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-1-sentiment-analysis-with-dict.html">
     åŸºäºå­—å…¸çš„æƒ…æ„Ÿåˆ†æ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-2-emotion-dict.html">
     å¤§è¿ç†å·¥å¤§å­¦ä¸­æ–‡æƒ…æ„Ÿè¯æ±‡
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-3-NRC-Chinese-dict.html">
     åŸºäºNRCå­—å…¸çš„æƒ…æ„Ÿåˆ†æ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-3-textblob.html">
     åˆ©ç”¨textblobè¿›è¡Œæƒ…æ„Ÿåˆ†æ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-4-sentiment-classifier.html">
     åŸºäºæœºå™¨å­¦ä¹ çš„æƒ…æ„Ÿåˆ†æ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-5-LIWC.html">
     LIWC: Linguistic Inquiry and Word Count  analyzer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="12-topic-models-update.html">
     ä¸»é¢˜æ¨¡å‹ç®€ä»‹
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="12-topic-models-with-turicreate.html">
     ä½¿ç”¨Turicreateå»ºç«‹ä¸»é¢˜æ¨¡å‹
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="13-recsys-intro.html">
   ç¬¬ä¹ç«  æ¨èç³»ç»Ÿç®€ä»‹
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="13-recsys-latent-factor-model.html">
     Latent Factor Recommender System
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="13-recsys-intro-surprise.html">
     ä½¿ç”¨Surpriseæ„å»ºæ¨èç³»ç»Ÿ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="14-millionsong.html">
     ä½¿ç”¨Turicreateè¿›è¡ŒéŸ³ä¹æ¨è
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="14-movielens.html">
     ä½¿ç”¨Turicreateè¿›è¡Œç”µå½±æ¨è
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="15-network-science-intro.html">
   ç¬¬åç«  ç½‘ç»œç§‘å­¦ç®€ä»‹
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="16-network-science-models.html">
     ç½‘ç»œç§‘å­¦æ¨¡å‹
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="17-networkx.html">
     ä½¿ç”¨NetworkXåˆ†æç½‘ç»œ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="18-02-network-diffusion.html">
     Simulating Network Diffusion With NDlib
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="18-03-network-epidemics.html">
     Epidemics on Networks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="18-04-seir-hcd-model.html">
     SEIR-HCD Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="18-network-ergm-siena.html">
     Social Network Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="18-network-weibo-hot-search.html">
     å¾®åšçƒ­æœåˆ†æ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="18-network-analysis-of-tianya-bbs.html">
     å¤©æ¶¯è®ºå›çš„å›å¸–ç½‘ç»œåˆ†æ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="19-facebook-ego-netwrok-visualization.html">
     å¯è§†åŒ–Facebookç¤¾äº¤ç½‘ç»œ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="18-network-ecomplexity.html">
     Economic Complexity and Product Complexity
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="19-visualization-with-seaborn.html">
   ç¬¬åä¸€ç«  å¯è§†åŒ–
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="19-visualization-matplotlib-colormap.html">
     Qualitative Colormaps in Matplotlib Visualization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="19-visualization-scientific-plot.html">
     Matplotlibçš„ç§‘å­¦ç»˜å›¾æ ·å¼
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="19-visualization-with-pyecharts.html">
     ä½¿ç”¨PyEchartsè¿›è¡Œå¯è§†åŒ–
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="19-visualization-plotly-express.html">
     Plotly Express in Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="19-visualization-maps-using-folium.html">
     ä½¿ç”¨foliumåšåœ°å›¾å¯è§†åŒ–
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="19-visualization-datashader.html">
     ä½¿ç”¨Datashaderå¯è§†åŒ–åœ°ç†ä¿¡æ¯
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="19-visualization-datapane.html">
     ä½¿ç”¨Datapaneåˆ¶ä½œæ•°æ®æŠ¥å‘Š
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="19-visualization-pantheon.html">
     ä¸‡ç¥æ®¿é¡¹ç›®ï¼ˆPantheon Projectï¼‰
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/chengjun/mybook/main?urlpath=tree/10-text-mining-gov-report.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://colab.research.google.com/github/chengjun/mybook/blob/main/10-text-mining-gov-report.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/chengjun/mybook"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/chengjun/mybook/issues/new?title=Issue%20on%20page%20%2F10-text-mining-gov-report.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/10-text-mining-gov-report.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-can-be-learned-from-5-million-books">
   What can be learned from 5 million books
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bag-of-words-model-bow">
   Bag-of-words model ï¼ˆBOWï¼‰
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#transforming-words-into-feature-vectors">
     Transforming words into feature vectors
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#n-gram-model">
   n-gram model
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tf-idf">
   TF-IDF
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#l2-normalization">
     L2-normalization
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tfidftransformer">
     TfidfTransformer
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   æ”¿åºœå·¥ä½œæŠ¥å‘Šæ–‡æœ¬æŒ–æ˜
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     0. è¯»å–æ•°æ®
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     1. åˆ†è¯
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   2. åœç”¨è¯
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     3. å…³é”®è¯æŠ½å–
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id7">
       åŸºäºTF-IDF ç®—æ³•çš„å…³é”®è¯æŠ½å–
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#textrank">
       åŸºäº TextRank ç®—æ³•çš„å…³é”®è¯æŠ½å–
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     4. è¯äº‘
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#tfidf">
       åŸºäºtfidfè¿‡æ»¤çš„è¯äº‘
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id9">
       åŸºäºåœç”¨è¯è¿‡æ»¤çš„è¯äº‘
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id10">
     ç»˜åˆ¶1954-2016æ”¿åºœå·¥ä½œæŠ¥å‘Šè¯äº‘
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id11">
   5. è¯å‘é‡çš„æ—¶é—´åºåˆ—
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     ä½¿ç”¨ç›¸å¯¹é¢‘æ•°æ¥è¿›è¡Œè®¡ç®—
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id13">
     ä½¿ç”¨TF-IDFæ¥è®¡ç®—
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>ç¬¬å…«ç«  æ–‡æœ¬æŒ–æ˜</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-can-be-learned-from-5-million-books">
   What can be learned from 5 million books
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bag-of-words-model-bow">
   Bag-of-words model ï¼ˆBOWï¼‰
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#transforming-words-into-feature-vectors">
     Transforming words into feature vectors
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#n-gram-model">
   n-gram model
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tf-idf">
   TF-IDF
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#l2-normalization">
     L2-normalization
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tfidftransformer">
     TfidfTransformer
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   æ”¿åºœå·¥ä½œæŠ¥å‘Šæ–‡æœ¬æŒ–æ˜
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     0. è¯»å–æ•°æ®
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     1. åˆ†è¯
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   2. åœç”¨è¯
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     3. å…³é”®è¯æŠ½å–
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id7">
       åŸºäºTF-IDF ç®—æ³•çš„å…³é”®è¯æŠ½å–
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#textrank">
       åŸºäº TextRank ç®—æ³•çš„å…³é”®è¯æŠ½å–
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     4. è¯äº‘
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#tfidf">
       åŸºäºtfidfè¿‡æ»¤çš„è¯äº‘
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id9">
       åŸºäºåœç”¨è¯è¿‡æ»¤çš„è¯äº‘
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id10">
     ç»˜åˆ¶1954-2016æ”¿åºœå·¥ä½œæŠ¥å‘Šè¯äº‘
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id11">
   5. è¯å‘é‡çš„æ—¶é—´åºåˆ—
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     ä½¿ç”¨ç›¸å¯¹é¢‘æ•°æ¥è¿›è¡Œè®¡ç®—
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id13">
     ä½¿ç”¨TF-IDFæ¥è®¡ç®—
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1>ç¬¬å…«ç«  æ–‡æœ¬æŒ–æ˜<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h1>
<p><img alt="image.png" src="_images/author.png" /></p>
<section id="what-can-be-learned-from-5-million-books">
<h2>What can be learned from 5 million books<a class="headerlink" href="#what-can-be-learned-from-5-million-books" title="Permalink to this headline">#</a></h2>
<p><a class="reference external" href="https://www.bilibili.com/video/BV1jJ411u7Nd">https://www.bilibili.com/video/BV1jJ411u7Nd</a></p>
<p>This talk by Jean-Baptiste Michel and Erez Lieberman Aiden is phenomenal.</p>
<p>Michel, J.-B., et al. (2011). <strong>Quantitative Analysis of Culture Using Millions of Digitized Books</strong>. Science, 331, 176â€“182.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%html</span> 
<span class="p">&lt;</span><span class="nt">iframe</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;//player.bilibili.com/player.html?aid=68934891&amp;bvid=BV1jJ411u7Nd&amp;cid=119471774&amp;page=1&quot;</span> 
<span class="na">width</span><span class="o">=</span><span class="s">1000</span> <span class="na">height</span><span class="o">=</span><span class="s">600</span>
<span class="na">scrolling</span><span class="o">=</span><span class="s">&quot;no&quot;</span> <span class="na">border</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">frameborder</span><span class="o">=</span><span class="s">&quot;no&quot;</span> <span class="na">framespacing</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">allowfullscreen</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">iframe</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><iframe src="//player.bilibili.com/player.html?aid=68934891&bvid=BV1jJ411u7Nd&cid=119471774&page=1" 
width=1000 height=600
scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
</div></div>
</div>
<p><img alt="" src="_images/books.jpg" /></p>
<p>è¯•ä¸€ä¸‹è°·æ­Œå›¾ä¹¦çš„æ•°æ®: <a class="reference external" href="https://books.google.com/ngrams/">https://books.google.com/ngrams/</a></p>
<p>æ•°æ®ä¸‹è½½ï¼š <a class="reference external" href="http://www.culturomics.org/home">http://www.culturomics.org/home</a></p>
</section>
<section id="bag-of-words-model-bow">
<h2>Bag-of-words model ï¼ˆBOWï¼‰<a class="headerlink" href="#bag-of-words-model-bow" title="Permalink to this headline">#</a></h2>
<p>Represent text as numerical feature vectors</p>
<ul class="simple">
<li><p>We create a vocabulary of unique tokensâ€”for example, wordsâ€”from the entire set of documents.</p></li>
<li><p>We construct a feature vector from each document that contains the counts of how often each word occurs in the particular document.</p></li>
</ul>
<p>Since the unique words in each document represent only a small subset of all the
words in the bag-of-words vocabulary, the feature vectors will consist of mostly
zeros, which is why we call them sparse</p>
<p><img alt="image.png" src="_images/bow.png" /></p>
<p>â€œè¯è¢‹æ¨¡å‹â€ï¼ˆBag of words modelï¼‰å‡å®šå¯¹äºä¸€ä¸ªæ–‡æœ¬ï¼š</p>
<ul class="simple">
<li><p>å¿½ç•¥è¯åºã€è¯­æ³•ã€å¥æ³•ï¼›</p></li>
<li><p>å°†å…¶ä»…ä»…çœ‹åšæ˜¯ä¸€ä¸ªè¯é›†åˆæˆ–ç»„åˆï¼›</p></li>
<li><p>æ¯ä¸ªè¯çš„å‡ºç°éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä¸ä¾èµ–äºå…¶ä»–è¯æ˜¯å¦å‡ºç°ã€‚</p>
<ul>
<li><p>æ–‡æœ¬ä»»æ„ä¸€ä¸ªä½ç½®å‡ºç°æŸä¸€ä¸ªè¯æ±‡æ˜¯ç‹¬ç«‹é€‰æ‹©çš„ï¼Œä¸å—å‰é¢å¥å­çš„å½±å“ã€‚</p></li>
</ul>
</li>
</ul>
<p>è¿™ç§å‡è®¾è™½ç„¶å¯¹è‡ªç„¶è¯­è¨€è¿›è¡Œäº†ç®€åŒ–ï¼Œä¾¿äºæ¨¡å‹åŒ–ã€‚</p>
<p>Document-Term Matrix (DTM)</p>
<p>é—®é¢˜ï¼šä¾‹å¦‚åœ¨æ–°é—»ä¸ªæ€§åŒ–æ¨èä¸­ï¼Œç”¨æˆ·å¯¹â€œå—äº¬é†‰é…’é©¾è½¦äº‹æ•…â€è¿™ä¸ªçŸ­è¯­å¾ˆæ„Ÿå…´è¶£ã€‚è¯è¢‹æ¨¡å‹å¿½ç•¥äº†é¡ºåºå’Œå¥æ³•ï¼Œè®¤ä¸ºç”¨æˆ·å¯¹â€œå—äº¬â€ã€â€œé†‰é…’â€ã€â€œé©¾è½¦â€å’Œâ€œäº‹æ•…â€æ„Ÿå…´è¶£ï¼Œå› æ­¤å¯èƒ½æ¨èå‡ºå’Œâ€œå—äº¬â€ã€â€œå…¬äº¤è½¦â€ã€â€œäº‹æ•…â€ç›¸å…³çš„æ–°é—»ã€‚</p>
<p>è§£å†³æ–¹æ³•: å¯æŠ½å–å‡ºæ•´ä¸ªçŸ­è¯­ï¼›æˆ–è€…é‡‡ç”¨é«˜é˜¶ï¼ˆ2é˜¶ä»¥ä¸Šï¼‰ç»Ÿè®¡è¯­è¨€æ¨¡å‹ã€‚ä¾‹å¦‚bigramã€trigramæ¥å°†è¯åºä¿ç•™ä¸‹æ¥ï¼Œç›¸å½“äºbag of bigramå’Œbag of trigramã€‚</p>
<section id="transforming-words-into-feature-vectors">
<h3>Transforming words into feature vectors<a class="headerlink" href="#transforming-words-into-feature-vectors" title="Permalink to this headline">#</a></h3>
<p>A document-term matrix or term-document matrix is a mathematical matrix that describes the frequency of terms that occur in a collection of documents.</p>
<p>In a document-term matrix, rows correspond to documents in the collection and columns correspond to terms.</p>
<p>There are various schemes for determining the value that each entry in the matrix should take. One such scheme is tf-idf. They are useful in the field of natural language processing.</p>
<p>D1 = â€œI like databasesâ€</p>
<p>D2 = â€œI hate databasesâ€</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="text-align:center head"><p>I</p></th>
<th class="text-align:center head"><p>like</p></th>
<th class="text-align:center head"><p>hate</p></th>
<th class="text-align:right head"><p>databases</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>D1</p></td>
<td class="text-align:center"><p>1</p></td>
<td class="text-align:center"><p>1</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:right"><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>D2</p></td>
<td class="text-align:center"><p>1</p></td>
<td class="text-align:center"><p>0</p></td>
<td class="text-align:center"><p>1</p></td>
<td class="text-align:right"><p>1</p></td>
</tr>
</tbody>
</table>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">CountVectorizer</span>
<span class="n">count</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span><span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">docs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
        <span class="s1">&#39;The sun is shining&#39;</span><span class="p">,</span>
        <span class="s1">&#39;The weather is sweet&#39;</span><span class="p">,</span>
        <span class="s1">&#39;The sun is shining and the weather is sweet&#39;</span><span class="p">])</span>
<span class="n">bag</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">docs</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">count</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;and&#39;,
 &#39;and the&#39;,
 &#39;is&#39;,
 &#39;is shining&#39;,
 &#39;is sweet&#39;,
 &#39;shining&#39;,
 &#39;shining and&#39;,
 &#39;sun&#39;,
 &#39;sun is&#39;,
 &#39;sweet&#39;,
 &#39;the&#39;,
 &#39;the sun&#39;,
 &#39;the weather&#39;,
 &#39;weather&#39;,
 &#39;weather is&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">count</span><span class="o">.</span><span class="n">vocabulary_</span><span class="p">)</span> <span class="c1"># word: position index</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;the&#39;: 10, &#39;sun&#39;: 7, &#39;is&#39;: 2, &#39;shining&#39;: 5, &#39;the sun&#39;: 11, &#39;sun is&#39;: 8, &#39;is shining&#39;: 3, &#39;weather&#39;: 13, &#39;sweet&#39;: 9, &#39;the weather&#39;: 12, &#39;weather is&#39;: 14, &#39;is sweet&#39;: 4, &#39;and&#39;: 0, &#39;shining and&#39;: 6, &#39;and the&#39;: 1}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">bag</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>scipy.sparse.csr.csr_matrix
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">bag</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[0 0 1 1 0 1 0 1 1 0 1 1 0 0 0]
 [0 0 1 0 1 0 0 0 0 1 1 0 1 1 1]
 [1 1 2 1 1 1 1 1 1 1 2 1 1 1 1]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Relative Frequency</span>
<span class="n">bt</span> <span class="o">=</span> <span class="n">bag</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="n">bs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">bt</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># numpy divide row by row sum</span>
<span class="n">bt</span><span class="o">/</span><span class="n">bs</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0.  , 0.  , 0.14, 0.14, 0.  , 0.14, 0.  , 0.14, 0.14, 0.  , 0.14,
        0.14, 0.  , 0.  , 0.  ],
       [0.  , 0.  , 0.14, 0.  , 0.14, 0.  , 0.  , 0.  , 0.  , 0.14, 0.14,
        0.  , 0.14, 0.14, 0.14],
       [0.06, 0.06, 0.12, 0.06, 0.06, 0.06, 0.06, 0.06, 0.06, 0.06, 0.12,
        0.06, 0.06, 0.06, 0.06]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bag</span><span class="o">.</span><span class="n">toarray</span><span class="p">(),</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>and</th>
      <th>and the</th>
      <th>is</th>
      <th>is shining</th>
      <th>is sweet</th>
      <th>shining</th>
      <th>shining and</th>
      <th>sun</th>
      <th>sun is</th>
      <th>sweet</th>
      <th>the</th>
      <th>the sun</th>
      <th>the weather</th>
      <th>weather</th>
      <th>weather is</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The sequence of items in the bag-of-words model that we just created is also called the 1-gram or unigram model: each item or token in the vocabulary represents a single word.</p>
</section>
</section>
<section id="n-gram-model">
<h2>n-gram model<a class="headerlink" href="#n-gram-model" title="Permalink to this headline">#</a></h2>
<p>The choice of the number n in the n-gram model depends on the particular application</p>
<ul class="simple">
<li><p>1-gram: â€œtheâ€, â€œsunâ€, â€œisâ€, â€œshiningâ€</p></li>
<li><p>2-gram: â€œthe sunâ€, â€œsun isâ€, â€œis shiningâ€</p></li>
</ul>
<p>The CountVectorizer class in scikit-learn allows us to use different
n-gram models via its <code class="docutils literal notranslate"><span class="pre">ngram_range</span></code> parameter.</p>
<p>While a 1-gram
representation is used by default</p>
<p>we could switch to a 2-gram
representation by initializing a new CountVectorizer instance with
ngram_range=(2,2).</p>
</section>
<section id="tf-idf">
<h2>TF-IDF<a class="headerlink" href="#tf-idf" title="Permalink to this headline">#</a></h2>
<p>Assessing word relevancy via term frequency-inverse document frequency</p>
<div class="math notranslate nohighlight">
\[tf*idf(t, d) = tf(t, d) \times idf(t)\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(tf(t, d)\)</span> is the term frequency of term t in document d.</p></li>
<li><p>inverse document frequency <span class="math notranslate nohighlight">\(idf(t)\)</span> can be calculated as: <span class="math notranslate nohighlight">\(idf(t) = log \frac{n_d}{1 + df(d, t)}\)</span></p></li>
</ul>
<p>Question: Why do we add the constant 1 to the denominator ?</p>
<p>The tf-idf equation that was implemented in scikit-learn is as follows: <span class="math notranslate nohighlight">\(tf*idf(t, d) = tf(t, d) \times ï¼ˆidf(t, d) + 1ï¼‰\)</span></p>
<p><a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfTransformer.html#sklearn.feature_extraction.text.TfidfTransformer">SKlearn use <code class="docutils literal notranslate"><span class="pre">smooth_idf=True</span></code></a> <span class="math notranslate nohighlight">\(idf(t) = log \frac{1+n_d}{1 + df(d, t)} + 1\)</span></p>
<p>where <span class="math notranslate nohighlight">\(n_d\)</span> is the total number of documents, and <span class="math notranslate nohighlight">\(df(d, t)\)</span> is the number of documents <span class="math notranslate nohighlight">\(d\)</span> that contain the term <span class="math notranslate nohighlight">\(t\)</span>.</p>
<section id="l2-normalization">
<h3>L2-normalization<a class="headerlink" href="#l2-normalization" title="Permalink to this headline">#</a></h3>
<div class="math notranslate nohighlight">
\[l2_{x} = \frac{x} {\sqrt{\sum {x^2}}}\]</div>
<p>è¯¾å ‚ä½œä¸šï¼šè¯·æ ¹æ®å…¬å¼è®¡ç®—â€™isâ€™è¿™ä¸ªè¯åœ¨æ–‡æœ¬2ä¸­çš„tfidfæ•°å€¼ï¼Ÿ</p>
<p><img alt="" src="_images/ask.jpeg" /></p>
</section>
<section id="tfidftransformer">
<h3>TfidfTransformer<a class="headerlink" href="#tfidftransformer" title="Permalink to this headline">#</a></h3>
<p>Scikit-learn implements yet another transformer, the TfidfTransformer, that
takes the raw term frequencies from CountVectorizer as input and transforms
them into tf-idfs:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfTransformer</span>
<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">tfidf</span> <span class="o">=</span> <span class="n">TfidfTransformer</span><span class="p">(</span><span class="n">use_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="s1">&#39;l2&#39;</span><span class="p">,</span> <span class="n">smooth_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tfidf</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">count</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">docs</span><span class="p">))</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[0.   0.   0.31 0.4  0.   0.4  0.   0.4  0.4  0.   0.31 0.4  0.   0.
  0.  ]
 [0.   0.   0.31 0.   0.4  0.   0.   0.   0.   0.4  0.31 0.   0.4  0.4
  0.4 ]
 [0.29 0.29 0.35 0.22 0.22 0.22 0.29 0.22 0.22 0.22 0.35 0.22 0.22 0.22
  0.22]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfTransformer</span>
<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">tfidf</span> <span class="o">=</span> <span class="n">TfidfTransformer</span><span class="p">(</span><span class="n">use_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">smooth_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tfidf</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">count</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">docs</span><span class="p">))</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[0.   0.   1.   1.29 0.   1.29 0.   1.29 1.29 0.   1.   1.29 0.   0.
  0.  ]
 [0.   0.   1.   0.   1.29 0.   0.   0.   0.   1.29 1.   0.   1.29 1.29
  1.29]
 [1.69 1.69 2.   1.29 1.29 1.29 1.69 1.29 1.29 1.29 2.   1.29 1.29 1.29
  1.29]]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">bag</span> <span class="o">=</span> <span class="n">tfidf</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">count</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">docs</span><span class="p">))</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bag</span><span class="o">.</span><span class="n">toarray</span><span class="p">(),</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>and</th>
      <th>and the</th>
      <th>is</th>
      <th>is shining</th>
      <th>is sweet</th>
      <th>shining</th>
      <th>shining and</th>
      <th>sun</th>
      <th>sun is</th>
      <th>sweet</th>
      <th>the</th>
      <th>the sun</th>
      <th>the weather</th>
      <th>weather</th>
      <th>weather is</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.0</td>
      <td>1.287682</td>
      <td>0.000000</td>
      <td>1.287682</td>
      <td>0.000000</td>
      <td>1.287682</td>
      <td>1.287682</td>
      <td>0.000000</td>
      <td>1.0</td>
      <td>1.287682</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.0</td>
      <td>0.000000</td>
      <td>1.287682</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>1.287682</td>
      <td>1.0</td>
      <td>0.000000</td>
      <td>1.287682</td>
      <td>1.287682</td>
      <td>1.287682</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.693147</td>
      <td>1.693147</td>
      <td>2.0</td>
      <td>1.287682</td>
      <td>1.287682</td>
      <td>1.287682</td>
      <td>1.693147</td>
      <td>1.287682</td>
      <td>1.287682</td>
      <td>1.287682</td>
      <td>2.0</td>
      <td>1.287682</td>
      <td>1.287682</td>
      <td>1.287682</td>
      <td>1.287682</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ä¸€ä¸ªè¯çš„tfidfå€¼</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">tf_is</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="n">n_docs</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="n">n_docs_with_is</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="c1"># smooth_idf=True &amp; norm = None</span>
<span class="n">idf_is</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">((</span><span class="mi">1</span><span class="o">+</span><span class="n">n_docs</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">n_docs_with_is</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span>

<span class="n">tfidf_is</span> <span class="o">=</span> <span class="n">tf_is</span> <span class="o">*</span> <span class="n">idf_is</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;tf-idf of term &quot;is&quot; = </span><span class="si">%.2f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">tfidf_is</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>tf-idf of term &quot;is&quot; = 2.00
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># *æœ€åä¸€ä¸ªæ–‡æœ¬*é‡Œçš„è¯çš„tfidfåŸå§‹æ•°å€¼ï¼ˆæœªæ ‡å‡†åŒ–ï¼‰</span>
<span class="n">tfidf</span> <span class="o">=</span> <span class="n">TfidfTransformer</span><span class="p">(</span><span class="n">use_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">smooth_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">raw_tfidf</span> <span class="o">=</span> <span class="n">tfidf</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">count</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">docs</span><span class="p">))</span><span class="o">.</span><span class="n">toarray</span><span class="p">()[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">raw_tfidf</span><span class="p">,</span> <span class="n">count</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([1.69, 1.69, 2.  , 1.29, 1.29, 1.29, 1.69, 1.29, 1.29, 1.29, 2.  ,
        1.29, 1.29, 1.29, 1.29]),
 [&#39;and&#39;,
  &#39;and the&#39;,
  &#39;is&#39;,
  &#39;is shining&#39;,
  &#39;is sweet&#39;,
  &#39;shining&#39;,
  &#39;shining and&#39;,
  &#39;sun&#39;,
  &#39;sun is&#39;,
  &#39;sweet&#39;,
  &#39;the&#39;,
  &#39;the sun&#39;,
  &#39;the weather&#39;,
  &#39;weather&#39;,
  &#39;weather is&#39;])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># l2æ ‡å‡†åŒ–åçš„tfidfæ•°å€¼</span>
<span class="n">l2_tfidf</span> <span class="o">=</span> <span class="n">raw_tfidf</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">raw_tfidf</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
<span class="n">l2_tfidf</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0.29, 0.29, 0.35, 0.22, 0.22, 0.22, 0.29, 0.22, 0.22, 0.22, 0.35,
       0.22, 0.22, 0.22, 0.22])
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="id2">
<h2>æ”¿åºœå·¥ä½œæŠ¥å‘Šæ–‡æœ¬æŒ–æ˜<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h2>
<section id="id3">
<h3>0. è¯»å–æ•°æ®<a class="headerlink" href="#id3" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./data/gov_reports1954-2021.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">reports</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
    
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">reports</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>52
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">reports</span><span class="p">[</span><span class="o">-</span><span class="mi">7</span><span class="p">][:</span><span class="mi">1000</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1964	1964å¹´å›½åŠ¡é™¢æ”¿åºœå·¥ä½œæŠ¥å‘Šï¼ˆæ‘˜è¦ï¼‰â€”â€”ï¼‘ï¼™ï¼–ï¼”å¹´ï¼‘ï¼’æœˆï¼’ï¼‘æ—¥å’Œï¼’ï¼’æ—¥åœ¨ç¬¬ä¸‰å±Šå…¨å›½äººæ°‘ä»£è¡¨å¤§ä¼šç¬¬ä¸€æ¬¡ä¼šè®®ä¸Šã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€Â  ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€å›½åŠ¡é™¢æ€»ç†å‘¨æ©æ¥ã€€ã€€äº”å¹´æ¥ï¼Œæˆ‘å›½å„æ—äººæ°‘åœ¨ä¸­å›½å…±äº§å…šçš„è‹±æ˜é¢†å¯¼ä¸‹ï¼Œé«˜ä¸¾æ¯›æ³½ä¸œæ€æƒ³çš„å…‰è¾‰æ——å¸œï¼ŒåšæŒé¼“è¶³å¹²åŠ²ã€åŠ›äº‰ä¸Šæ¸¸ã€å¤šå¿«å¥½çœåœ°å»ºè®¾ç¤¾ä¼šä¸»ä¹‰çš„æ€»è·¯çº¿ï¼Œåœ¨å…¨å›½èŒƒå›´å†…å¼€å±•äº†é˜¶çº§æ–—äº‰ã€ç”Ÿäº§æ–—äº‰ã€ç§‘å­¦å®éªŒä¸‰å¤§é©å‘½è¿åŠ¨ï¼Œæœ‰åŠ›åœ°åå‡»äº†èµ„æœ¬ä¸»ä¹‰å’Œå°å»ºåŠ¿åŠ›çš„è¿›æ”»ï¼Œæé«˜äº†äººæ°‘ç¾¤ä¼—çš„ç¤¾ä¼šä¸»ä¹‰è§‰æ‚Ÿï¼ŒåŸºæœ¬ä¸Šå®Œæˆäº†è°ƒæ•´å›½æ°‘ç»æµçš„ä»»åŠ¡ï¼Œä½¿å·¥å†œä¸šç”Ÿäº§å…¨é¢é«˜æ¶¨ï¼Œæ•´ä¸ªå›½æ°‘ç»æµå…¨é¢å¥½è½¬ï¼Œæˆ‘å›½è‡ªåŠ›æ›´ç”Ÿçš„åŠ›é‡å¤§ä¸ºå¢å¼ºã€‚åŒæ—¶ï¼Œåœ¨å›½é™…ä¸Šï¼Œæˆ‘ä»¬åŒç¾å¸å›½ä¸»ä¹‰ã€å„å›½ååŠ¨æ´¾å’Œç°ä»£ä¿®æ­£ä¸»ä¹‰è¿›è¡Œäº†é’ˆé”‹ç›¸å¯¹çš„æ–—äº‰ï¼Œæ‰“é€€äº†ä»–ä»¬æ€èµ·çš„ä¸€æ¬¡åˆä¸€æ¬¡çš„ååé«˜æ½®ï¼›ç§¯æåœ°æ”¯æ´äº†å„å›½é©å‘½äººæ°‘ï¼Œå‘å±•äº†åŒè®¸å¤šå›½å®¶çš„å‹å¥½åˆä½œå…³ç³»ï¼›æˆ‘å›½çš„å›½é™…å¨æœ›æ›´åŠ æé«˜äº†ï¼Œæˆ‘ä»¬çš„æœ‹å‹éå¤©ä¸‹ã€‚ã€€ã€€æˆ‘ä»¬è¦è¿›ä¸€æ­¥å¼€å±•ç¤¾ä¼šä¸»ä¹‰æ•™è‚²è¿åŠ¨ï¼Œåšå†³ä¾é å·¥äººé˜¶çº§ã€è´«å†œä¸‹ä¸­å†œã€é©å‘½çš„å¹²éƒ¨ã€é©å‘½çš„çŸ¥è¯†åˆ†å­å’Œå…¶ä»–é©å‘½åˆ†å­ï¼Œæ ¹æ®ç¤¾ä¼šä¸»ä¹‰çš„å½»åº•é©å‘½çš„åŸåˆ™ï¼Œåœ¨æ”¿æ²»ã€ç»æµã€æ€æƒ³å’Œç»„ç»‡è¿™å››ä¸ªæ–¹é¢ï¼Œè¿›è¡Œæ¸…ç†å’ŒåŸºæœ¬å»ºè®¾ï¼Œåœ¨äººæ°‘ç¾¤ä¼—ä¸­æ·±åˆ»åœ°è¿›è¡Œä¸€æ¬¡é˜¶çº§æ•™è‚²å’Œç¤¾ä¼šä¸»ä¹‰æ•™è‚²ï¼›è¦è¿›ä¸€æ­¥å¼€å±•æ€æƒ³æ–‡åŒ–æˆ˜çº¿ä¸Šçš„ç¤¾ä¼šä¸»ä¹‰é©å‘½ï¼Œé€æ­¥å®ç°çŸ¥è¯†åˆ†å­åŠ³åŠ¨åŒ–ï¼ŒåŠ³åŠ¨äººæ°‘çŸ¥è¯†åŒ–ï¼›è¦è¿›ä¸€æ­¥å·©å›ºå’Œå‘å±•äººæ°‘æ°‘ä¸»ç»Ÿä¸€æˆ˜çº¿ï¼ŒåŠ å¼ºå„æ°‘æ—çš„å¤§å›¢ç»“ï¼›å„çº§æœºå…³å’Œå„çº§å¹²éƒ¨å¿…é¡»é©å‘½åŒ–ï¼Œéƒ½è¦å­¦ä¹ è§£æ”¾å†›ã€å¤§åº†ã€å¤§å¯¨çš„å½»åº•é©å‘½çš„ç²¾ç¥å’Œå·¥ä½œä½œé£ã€‚åœ¨æ·±å…¥å¹¿æ³›å¼€å±•ç¤¾ä¼šä¸»ä¹‰æ•™è‚²è¿åŠ¨çš„åŸºç¡€ä¸Šï¼Œä¸€ä¹å…­äº”å¹´è¦å¤§åŠ›ç»„ç»‡å·¥å†œä¸šç”Ÿäº§çš„æ–°é«˜æ½®ï¼Œä¸ºä¸€ä¹å…­å…­å¹´å¼€å§‹çš„ç¬¬ä¸‰ä¸ªäº”å¹´è®¡åˆ’ä½œå¥½å‡†å¤‡ï¼Œäº‰å–åœ¨ä¸å¤ªé•¿çš„å†å²æ—¶æœŸå†…ï¼ŒæŠŠæˆ‘å›½å»ºæˆä¸€ä¸ªå…·æœ‰ç°ä»£å†œä¸šã€ç°ä»£å·¥ä¸šã€ç°ä»£å›½é˜²å’Œç°ä»£ç§‘å­¦æŠ€æœ¯çš„ç¤¾ä¼šä¸»ä¹‰å¼ºå›½ã€‚åœ¨å›½é™…æ–¹é¢ï¼Œæˆ‘ä»¬è¦ç»§ç»­è´¯å½»æˆ‘å›½å¯¹å¤–æ”¿ç­–çš„æ€»è·¯çº¿ï¼ŒåŒå…¨ä¸–ç•Œäººæ°‘ä¸€èµ·ï¼Œåšå†³åå¯¹ç¾å¸å›½ä¸»ä¹‰åŠå…¶èµ°ç‹—ï¼Œä¸ºäº‰å–ä¸–ç•Œå’Œå¹³ã€æ°‘æ—è§£æ”¾ã€äººæ°‘æ°‘ä¸»å’Œç¤¾ä¼šä¸»ä¹‰äº‹ä¸šçš„æ–°èƒœåˆ©è€Œå¥‹æ–—ã€‚ã€€ã€€å›½æ°‘ç»æµçš„æˆå°±å’Œä»Šåçš„å»ºè®¾ä»»åŠ¡ã€€ã€€å‘¨æ©æ¥æ€»ç†åœ¨æŠ¥å‘Šä¸­é¦–å…ˆæŒ‡å‡ºï¼Œä»ç¬¬äºŒå±Šå…¨å›½äººæ°‘ä»£è¡¨å¤§ä¼šç¬¬ä¸€æ¬¡ä¼šè®®ä»¥æ¥ï¼Œæˆ‘å›½å„æ—äººæ°‘ï¼Œåœ¨ä¸­å›½å…±äº§å…šçš„è‹±æ˜é¢†å¯¼ä¸‹ï¼Œé«˜ä¸¾æ¯›æ³½ä¸œæ€æƒ³çš„å…‰è¾‰æ——å¸œï¼ŒåšæŒé¼“è¶³å¹²åŠ²ã€åŠ›äº‰ä¸Šæ¸¸ã€å¤šå¿«å¥½çœåœ°å»ºè®¾ç¤¾ä¼šä¸»ä¹‰çš„æ€»è·¯çº¿ï¼Œåœ¨å…¨å›½èŒƒå›´å†…å±•å¼€äº†é˜¶çº§æ–—äº‰ã€ç”Ÿäº§æ–—äº‰ã€ç§‘å­¦å®éªŒä¸‰å¤§é©å‘½è¿åŠ¨ï¼Œåœ¨å›½é™…ä¸ŠåŒå¸å›½ä¸»ä¹‰ã€å„å›½ååŠ¨æ´¾å’Œç°ä»£ä¿®æ­£ä¸»ä¹‰è¿›è¡Œäº†é’ˆé”‹ç›¸å¯¹çš„æ–—äº‰ï¼Œå–å¾—äº†ä¸€ä¸ªåˆä¸€ä¸ªçš„ä¼Ÿå¤§èƒœ
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">reports</span><span class="p">[</span><span class="mi">4</span><span class="p">][:</span><span class="mi">500</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2017	ã€€ã€€å„ä½ä»£è¡¨ï¼šã€€ã€€ç°åœ¨ï¼Œæˆ‘ä»£è¡¨å›½åŠ¡é™¢ï¼Œå‘å¤§ä¼šæŠ¥å‘Šæ”¿åºœå·¥ä½œï¼Œè¯·äºˆå®¡è®®ï¼Œå¹¶è¯·å…¨å›½æ”¿åå„ä½å§”å‘˜æå‡ºæ„è§ã€‚ã€€ã€€ä¸€ã€2016å¹´å·¥ä½œå›é¡¾ã€€ã€€è¿‡å»ä¸€å¹´ï¼Œæˆ‘å›½å‘å±•é¢ä¸´å›½å†…å¤–è¯¸å¤šçŸ›ç›¾å åŠ ã€é£é™©éšæ‚£äº¤æ±‡çš„ä¸¥å³»æŒ‘æˆ˜ã€‚åœ¨ä»¥ä¹ è¿‘å¹³åŒå¿—ä¸ºæ ¸å¿ƒçš„å…šä¸­å¤®åšå¼ºé¢†å¯¼ä¸‹ï¼Œå…¨å›½å„æ—äººæ°‘è¿éš¾è€Œä¸Šï¼Œç ¥ç ºå‰è¡Œï¼Œæ¨åŠ¨ç»æµç¤¾ä¼šæŒç»­å¥åº·å‘å±•ã€‚å…šçš„åå…«å±Šå…­ä¸­å…¨ä¼šæ­£å¼æ˜ç¡®ä¹ è¿‘å¹³æ€»ä¹¦è®°çš„æ ¸å¿ƒåœ°ä½ï¼Œä½“ç°äº†å…šå’Œäººæ°‘çš„æ ¹æœ¬åˆ©ç›Šï¼Œå¯¹ä¿è¯å…šå’Œå›½å®¶å…´æ—ºå‘è¾¾ã€é•¿æ²»ä¹…å®‰ï¼Œå…·æœ‰ååˆ†é‡å¤§è€Œæ·±è¿œçš„æ„ä¹‰ã€‚å„åœ°åŒºã€å„éƒ¨é—¨ä¸æ–­å¢å¼ºæ”¿æ²»æ„è¯†ã€å¤§å±€æ„è¯†ã€æ ¸å¿ƒæ„è¯†ã€çœ‹é½æ„è¯†ï¼Œæ¨åŠ¨å…¨é¢å»ºæˆå°åº·ç¤¾ä¼šå–å¾—æ–°çš„é‡è¦è¿›å±•ï¼Œå…¨é¢æ·±åŒ–æ”¹é©è¿ˆå‡ºé‡å¤§æ­¥ä¼ï¼Œå…¨é¢ä¾æ³•æ²»å›½æ·±å…¥å®æ–½ï¼Œå…¨é¢ä»ä¸¥æ²»å…šçºµæ·±æ¨è¿›ï¼Œå…¨å¹´ç»æµç¤¾ä¼šå‘å±•ä¸»è¦ç›®æ ‡ä»»åŠ¡åœ†æ»¡å®Œæˆï¼Œâ€œåä¸‰äº”â€å®ç°äº†è‰¯å¥½å¼€å±€ã€‚ã€€ã€€â€”â€”ç»æµè¿è¡Œç¼“ä¸­è¶‹ç¨³ã€ç¨³ä¸­å‘å¥½ã€‚å›½å†…ç”Ÿäº§æ€»å€¼è¾¾åˆ°74.4ä¸‡äº¿å…ƒï¼Œå¢é•¿6.7%ï¼Œååˆ—ä¸–ç•Œå‰èŒ…ï¼Œå¯¹å…¨çƒç»æµå¢é•¿çš„è´¡çŒ®ç‡è¶…è¿‡30%ã€‚å±…æ°‘æ¶ˆè´¹ä»·æ ¼ä¸Šæ¶¨2%ã€‚å·¥ä¸šä¼ä¸šåˆ©æ¶¦ç”±ä¸Šå¹´ä¸‹é™2.3%è½¬ä¸ºå¢é•¿8.5%ï¼Œå•ä½å›½å†…ç”Ÿäº§æ€»å€¼èƒ½è€—ä¸‹é™5%ï¼Œç»æµå‘å±•çš„è´¨é‡å’Œæ•ˆç›Šæ˜æ˜¾æé«˜ã€‚ã€€ã€€â€”â€”å°±ä¸šå¢é•¿è¶…å‡ºé¢„æœŸã€‚å…¨å¹´åŸé•‡æ–°å¢å°±ä¸š1314ä¸‡äººã€‚é«˜æ ¡æ¯•ä¸šç”Ÿå°±
</pre></div>
</div>
</div>
</div>
<p>pip install jieba</p>
<blockquote>
<div><p><a class="reference external" href="https://github.com/fxsjy/jieba">https://github.com/fxsjy/jieba</a></p>
</div></blockquote>
<p>pip install wordcloud</p>
<blockquote>
<div><p><a class="reference external" href="https://github.com/amueller/word_cloud">https://github.com/amueller/word_cloud</a></p>
</div></blockquote>
<p>pip install gensim</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">gensim</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: gensim in /opt/anaconda3/lib/python3.9/site-packages (4.1.2)
Requirement already satisfied: scipy&gt;=0.18.1 in /opt/anaconda3/lib/python3.9/site-packages (from gensim) (1.7.1)
Requirement already satisfied: smart-open&gt;=1.8.1 in /opt/anaconda3/lib/python3.9/site-packages (from gensim) (5.2.1)
Requirement already satisfied: numpy&gt;=1.17.0 in /opt/anaconda3/lib/python3.9/site-packages (from gensim) (1.20.3)
Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">jieba</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting jieba
  Downloading jieba-0.42.1.tar.gz (19.2 MB)
     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 19.2 MB 195 kB/s eta 0:00:01
?25hBuilding wheels for collected packages: jieba
  Building wheel for jieba (setup.py) ... ?25ldone
?25h  Created wheel for jieba: filename=jieba-0.42.1-py3-none-any.whl size=19314476 sha256=426bf637e0c73f6bd0bd76745aa8560c72e9765c1cf6303acdc41e6af563e71c
  Stored in directory: /Users/datalab/Library/Caches/pip/wheels/7d/74/cf/08c94db4b784e2c1ef675a600b7b5b281fd25240dcb954ee7e
Successfully built jieba
Installing collected packages: jieba
Successfully installed jieba-0.42.1
Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">wordcloud</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting wordcloud
  Downloading wordcloud-1.8.1.tar.gz (220 kB)
     |â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 220 kB 943 kB/s eta 0:00:01
?25hRequirement already satisfied: numpy&gt;=1.6.1 in /opt/anaconda3/lib/python3.9/site-packages (from wordcloud) (1.20.3)
Requirement already satisfied: pillow in /opt/anaconda3/lib/python3.9/site-packages (from wordcloud) (8.4.0)
Requirement already satisfied: matplotlib in /opt/anaconda3/lib/python3.9/site-packages (from wordcloud) (3.4.3)
Requirement already satisfied: python-dateutil&gt;=2.7 in /opt/anaconda3/lib/python3.9/site-packages (from matplotlib-&gt;wordcloud) (2.8.2)
Requirement already satisfied: kiwisolver&gt;=1.0.1 in /opt/anaconda3/lib/python3.9/site-packages (from matplotlib-&gt;wordcloud) (1.3.1)
Requirement already satisfied: cycler&gt;=0.10 in /opt/anaconda3/lib/python3.9/site-packages (from matplotlib-&gt;wordcloud) (0.10.0)
Requirement already satisfied: pyparsing&gt;=2.2.1 in /opt/anaconda3/lib/python3.9/site-packages (from matplotlib-&gt;wordcloud) (3.0.4)
Requirement already satisfied: six in /opt/anaconda3/lib/python3.9/site-packages (from cycler&gt;=0.10-&gt;matplotlib-&gt;wordcloud) (1.16.0)
Building wheels for collected packages: wordcloud
  Building wheel for wordcloud (setup.py) ... ?25ldone
?25h  Created wheel for wordcloud: filename=wordcloud-1.8.1-cp39-cp39-macosx_10_9_x86_64.whl size=155359 sha256=4ac5faa65d06b80462538462f625b1a819aac5313914c15469dd9580e0899013
  Stored in directory: /Users/datalab/Library/Caches/pip/wheels/f9/7a/dd/06ef8b5dfe5483f6204133c08eeb16c287cc2c05e290ae2fc0
Successfully built wordcloud
Installing collected packages: wordcloud
Successfully installed wordcloud-1.8.1
Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib.cm</span> <span class="k">as</span> <span class="nn">cm</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">sys</span> 
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="kn">from</span> <span class="nn">wordcloud</span> <span class="kn">import</span> <span class="n">WordCloud</span>
<span class="kn">import</span> <span class="nn">jieba</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">gensim</span>
<span class="kn">from</span> <span class="nn">gensim</span> <span class="kn">import</span> <span class="n">corpora</span><span class="p">,</span> <span class="n">models</span><span class="p">,</span> <span class="n">similarities</span>
<span class="kn">from</span> <span class="nn">gensim.utils</span> <span class="kn">import</span> <span class="n">simple_preprocess</span>
<span class="kn">from</span> <span class="nn">gensim.parsing.preprocessing</span> <span class="kn">import</span> <span class="n">STOPWORDS</span>
<span class="c1">#matplotlib.rcParams[&#39;font.sans-serif&#39;] = [&#39;Microsoft YaHei&#39;] #æŒ‡å®šé»˜è®¤å­—ä½“ </span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s2">&quot;savefig&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># ä¸ºäº†ç¡®ä¿ä¸­æ–‡å¯ä»¥åœ¨matplotlibé‡Œæ­£ç¡®æ˜¾ç¤º</span>
<span class="c1">#matplotlib.rcParams[&#39;font.sans-serif&#39;] = [&#39;Microsoft YaHei&#39;] #æŒ‡å®šé»˜è®¤å­—ä½“ </span>
<span class="c1"># éœ€è¦ç¡®å®šç³»ç»Ÿå®‰è£…äº†Microsoft YaHei</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import matplotlib</span>
<span class="c1"># my_font = matplotlib.font_manager.FontProperties(</span>
<span class="c1">#     fname=&#39;/Users/chengjun/github/cjc/data/msyh.ttf&#39;)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id4">
<h3>1. åˆ†è¯<a class="headerlink" href="#id4" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">jieba</span>

<span class="n">seg_list</span> <span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="s2">&quot;æˆ‘æ¥åˆ°åŒ—äº¬æ¸…åå¤§å­¦&quot;</span><span class="p">,</span> <span class="n">cut_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Full Mode: &quot;</span> <span class="o">+</span> <span class="s2">&quot;/ &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seg_list</span><span class="p">))</span>  <span class="c1"># å…¨æ¨¡å¼</span>

<span class="n">seg_list</span> <span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="s2">&quot;æˆ‘æ¥åˆ°åŒ—äº¬æ¸…åå¤§å­¦&quot;</span><span class="p">,</span> <span class="n">cut_all</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Default Mode: &quot;</span> <span class="o">+</span> <span class="s2">&quot;/ &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seg_list</span><span class="p">))</span>  <span class="c1"># ç²¾ç¡®æ¨¡å¼</span>

<span class="n">seg_list</span> <span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="s2">&quot;ä»–æ¥åˆ°äº†ç½‘æ˜“æ­ç ”å¤§å¦&quot;</span><span class="p">)</span>  <span class="c1"># é»˜è®¤æ˜¯ç²¾ç¡®æ¨¡å¼</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seg_list</span><span class="p">))</span>

<span class="n">seg_list</span> <span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">cut_for_search</span><span class="p">(</span><span class="s2">&quot;å°æ˜ç¡•å£«æ¯•ä¸šäºä¸­å›½ç§‘å­¦é™¢è®¡ç®—æ‰€ï¼Œååœ¨æ—¥æœ¬äº¬éƒ½å¤§å­¦æ·±é€ &quot;</span><span class="p">)</span>  <span class="c1"># æœç´¢å¼•æ“æ¨¡å¼</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;, &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seg_list</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Building prefix dict from the default dictionary ...
Dumping model to file cache /var/folders/8b/hhnbt0nd4zsg2qhxc28q23w80000gn/T/jieba.cache
Loading model cost 0.863 seconds.
Prefix dict has been built successfully.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Full Mode: æˆ‘/ æ¥åˆ°/ åŒ—äº¬/ æ¸…å/ æ¸…åå¤§å­¦/ åå¤§/ å¤§å­¦
Default Mode: æˆ‘/ æ¥åˆ°/ åŒ—äº¬/ æ¸…åå¤§å­¦
ä»–, æ¥åˆ°, äº†, ç½‘æ˜“, æ­ç ”, å¤§å¦
å°æ˜, ç¡•å£«, æ¯•ä¸š, äº, ä¸­å›½, ç§‘å­¦, å­¦é™¢, ç§‘å­¦é™¢, ä¸­å›½ç§‘å­¦é™¢, è®¡ç®—, è®¡ç®—æ‰€, ï¼Œ, å, åœ¨, æ—¥æœ¬, äº¬éƒ½, å¤§å­¦, æ—¥æœ¬äº¬éƒ½å¤§å­¦, æ·±é€ 
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="id5">
<h2>2. åœç”¨è¯<a class="headerlink" href="#id5" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;./data/stopwords.txt&#39;</span>
<span class="n">stopwords</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
<span class="k">while</span> <span class="n">line</span><span class="p">:</span>
    <span class="n">stopwords</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">stopwords</span><span class="p">[</span><span class="n">line</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">adding_stopwords</span> <span class="o">=</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;æˆ‘ä»¬&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;è¦&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;åœ°&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;æœ‰&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;è¿™&#39;</span><span class="p">,</span> <span class="sa">u</span><span class="s1">&#39;äºº&#39;</span><span class="p">,</span>
                    <span class="sa">u</span><span class="s1">&#39;å‘å±•&#39;</span><span class="p">,</span><span class="sa">u</span><span class="s1">&#39;å»ºè®¾&#39;</span><span class="p">,</span><span class="sa">u</span><span class="s1">&#39;åŠ å¼º&#39;</span><span class="p">,</span><span class="sa">u</span><span class="s1">&#39;ç»§ç»­&#39;</span><span class="p">,</span><span class="sa">u</span><span class="s1">&#39;å¯¹&#39;</span><span class="p">,</span><span class="sa">u</span><span class="s1">&#39;ç­‰&#39;</span><span class="p">,</span>
                    <span class="sa">u</span><span class="s1">&#39;æ¨è¿›&#39;</span><span class="p">,</span><span class="sa">u</span><span class="s1">&#39;å·¥ä½œ&#39;</span><span class="p">,</span><span class="sa">u</span><span class="s1">&#39;å¢åŠ &#39;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">adding_stopwords</span><span class="p">:</span> <span class="n">stopwords</span><span class="p">[</span><span class="n">s</span><span class="p">]</span><span class="o">=</span><span class="mi">10</span>  
</pre></div>
</div>
</div>
</div>
<section id="id6">
<h3>3. å…³é”®è¯æŠ½å–<a class="headerlink" href="#id6" title="Permalink to this headline">#</a></h3>
<section id="id7">
<h4>åŸºäºTF-IDF ç®—æ³•çš„å…³é”®è¯æŠ½å–<a class="headerlink" href="#id7" title="Permalink to this headline">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">jieba.analyse</span>
<span class="n">txt</span> <span class="o">=</span> <span class="n">reports</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">tf</span> <span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">analyse</span><span class="o">.</span><span class="n">extract_tags</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">topK</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">withWeight</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="sa">u</span><span class="s2">&quot;ã€&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tf</span><span class="p">[:</span><span class="mi">50</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;äººæ°‘ã€æˆ‘ä»¬ã€å›½å®¶ã€æˆ‘å›½ã€ä¸€ä¹äº”ä¸‰å¹´ã€å·¥ä¸šã€ä¸€ä¹äº”å››å¹´ã€å¿…é¡»ã€å·¥ä½œã€å»ºè®¾ã€å‘å±•ã€å’Œå¹³ã€ä¸€ä¹å››ä¹å¹´ã€ç¤¾ä¼šä¸»ä¹‰ã€ä¸€ä¹äº”ã€å›½å®¶æœºå…³ã€ç”Ÿäº§ã€è®¡åˆ’ã€å…¨å›½ã€å†œä¸šã€äºšæ´²ã€ç¾å›½ã€äº‹ä¸šã€ä¼ä¸šã€åº”å½“ã€ç»æµã€è¿™äº›ã€æ”¹é€ ã€å¢åŠ ã€å¹¶ä¸”ã€å®Œæˆã€ä½†æ˜¯ã€å·²ç»ã€ç­‰äºã€åˆä½œç¤¾ã€é›†å›¢ã€æ–¹é¢ã€éœ€è¦ã€å°æ¹¾ã€èµ„æœ¬ä¸»ä¹‰ã€åå¯¹ã€å‡ å¹´ã€ç”Ÿæ´»ã€å»ºç«‹ã€ä¸ºäº†ã€æŠ€æœ¯ã€è¿™ä¸ªã€è¿›è¡Œã€æ—¥å†…ç“¦ã€é—®é¢˜&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">([</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tf</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_58_0.png" src="_images/10-text-mining-gov-report_58_0.png" />
</div>
</div>
</section>
<section id="textrank">
<h4>åŸºäº TextRank ç®—æ³•çš„å…³é”®è¯æŠ½å–<a class="headerlink" href="#textrank" title="Permalink to this headline">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tr</span> <span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">analyse</span><span class="o">.</span><span class="n">textrank</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span><span class="n">topK</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">withWeight</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="sa">u</span><span class="s2">&quot;ã€&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tr</span><span class="p">[:</span><span class="mi">50</span><span class="p">]])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;å›½å®¶ã€äººæ°‘ã€å·¥ä¸šã€å‘å±•ã€å»ºè®¾ã€å·¥ä½œã€ç”Ÿäº§ã€ç¾å›½ã€ä¼ä¸šã€ç»æµã€è®¡åˆ’ã€ç¤¾ä¼šä¸»ä¹‰ã€ä¸­å›½ã€è¿›è¡Œã€å…¨å›½ã€æŠ€æœ¯ã€äºšæ´²ã€é›†å›¢ã€éœ€è¦ã€é—®é¢˜ã€å†œä¸šã€æ–¹é¢ã€å®Œæˆã€å»ºç«‹ã€å°æ¹¾ã€ç”Ÿæ´»ã€äº‹ä¸šã€æ²¡æœ‰ã€æ”¹é€ ã€åº”å½“ã€èµ„æœ¬ä¸»ä¹‰ã€å¢åŠ ã€å…³ç³»ã€ç»„ç»‡ã€ä¿è¯ã€ä¼šè®®ã€ä¾µç•¥ã€ä¸èƒ½ã€æ³¨æ„ã€åŠ å¼ºã€æˆ˜äº‰ã€æé«˜ã€ç¤¾ä¼šã€æ–‡åŒ–ã€ç»§ç»­ã€æ”¿åºœã€ç°ä»£åŒ–ã€èƒ½å¤Ÿã€æ—¥å†…ç“¦ã€ä¸–ç•Œ&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">([</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tr</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_61_0.png" src="_images/10-text-mining-gov-report_61_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">def</span> <span class="nf">keywords</span><span class="p">(</span><span class="n">index</span><span class="p">):</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="n">reports</span><span class="p">[</span><span class="o">-</span><span class="n">index</span><span class="p">]</span>
    <span class="n">tf</span> <span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">analyse</span><span class="o">.</span><span class="n">extract_tags</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">topK</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">withWeight</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">tr</span> <span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">analyse</span><span class="o">.</span><span class="n">textrank</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span><span class="n">topK</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">withWeight</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">tfdata</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">tf</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;word&#39;</span><span class="p">,</span> <span class="s1">&#39;tfidf&#39;</span><span class="p">])</span>
    <span class="n">trdata</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">tr</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;word&#39;</span><span class="p">,</span> <span class="s1">&#39;textrank&#39;</span><span class="p">])</span>
    <span class="n">worddata</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">tfdata</span><span class="p">,</span> <span class="n">trdata</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;word&#39;</span><span class="p">)</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">worddata</span><span class="o">.</span><span class="n">tfidf</span><span class="p">,</span> <span class="n">worddata</span><span class="o">.</span><span class="n">textrank</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">worddata</span><span class="o">.</span><span class="n">word</span><span class="p">)):</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">worddata</span><span class="o">.</span><span class="n">tfidf</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">worddata</span><span class="o">.</span><span class="n">textrank</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">worddata</span><span class="o">.</span><span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> 
                 <span class="n">fontsize</span> <span class="o">=</span> <span class="n">worddata</span><span class="o">.</span><span class="n">textrank</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="mi">30</span><span class="p">,</span> 
                 <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">rotation</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">txt</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Tf-Idf&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;TextRank&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.sans-serif&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SimHei&#39;</span><span class="p">]</span>  <span class="c1"># ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.unicode_minus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·</span>
<span class="n">keywords</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_63_0.png" src="_images/10-text-mining-gov-report_63_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">keywords</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_64_0.png" src="_images/10-text-mining-gov-report_64_0.png" />
</div>
</div>
<p>TextRank: Bringing Order into Texts</p>
<p>åŸºæœ¬æ€æƒ³:</p>
<ul class="simple">
<li><p>å°†å¾…æŠ½å–å…³é”®è¯çš„æ–‡æœ¬è¿›è¡Œåˆ†è¯</p></li>
<li><p>ä»¥å›ºå®šçª—å£å¤§å°(é»˜è®¤ä¸º5ï¼Œé€šè¿‡spanå±æ€§è°ƒæ•´)ï¼Œè¯ä¹‹é—´çš„å…±ç°å…³ç³»ï¼Œæ„å»ºå›¾</p></li>
<li><p>è®¡ç®—å›¾ä¸­èŠ‚ç‚¹çš„PageRankï¼Œæ³¨æ„æ˜¯æ— å‘å¸¦æƒå›¾</p></li>
</ul>
</section>
</section>
<section id="id8">
<h3>4. è¯äº‘<a class="headerlink" href="#id8" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">wordcloudplot</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">year</span><span class="p">):</span>
    <span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span><span class="n">font_path</span><span class="o">=</span><span class="s1">&#39;./data/msyh.ttf&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
    <span class="c1"># Open a plot of the generated image.</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">year</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
    <span class="c1">#plt.show()</span>
</pre></div>
</div>
</div>
</div>
<section id="tfidf">
<h4>åŸºäºtfidfè¿‡æ»¤çš„è¯äº‘<a class="headerlink" href="#tfidf" title="Permalink to this headline">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">txt</span> <span class="o">=</span> <span class="n">reports</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">tfidf200</span><span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">analyse</span><span class="o">.</span><span class="n">extract_tags</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">topK</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">withWeight</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">seg_list</span> <span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">cut_all</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">seg_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">seg_list</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tfidf200</span><span class="p">]</span>
<span class="n">txt200</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seg_list</span><span class="p">)</span>
<span class="n">wordcloudplot</span><span class="p">(</span><span class="n">txt200</span><span class="p">,</span> <span class="n">txt</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_69_0.png" src="_images/10-text-mining-gov-report_69_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">txt</span> <span class="o">=</span> <span class="n">reports</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
<span class="n">tfidf200</span><span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">analyse</span><span class="o">.</span><span class="n">extract_tags</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">topK</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">withWeight</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">seg_list</span> <span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">cut_all</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">seg_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">seg_list</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tfidf200</span><span class="p">]</span>
<span class="n">txt200</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seg_list</span><span class="p">)</span>
<span class="n">wordcloudplot</span><span class="p">(</span><span class="n">txt200</span><span class="p">,</span> <span class="n">txt</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_70_0.png" src="_images/10-text-mining-gov-report_70_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wordfreq</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">seg_list</span><span class="p">:</span>
    <span class="n">wordfreq</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span><span class="mi">1</span>
<span class="n">wordfreq</span> <span class="o">=</span> <span class="p">[[</span><span class="n">i</span><span class="p">,</span> <span class="n">wordfreq</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">wordfreq</span><span class="p">]</span>

<span class="n">wordfreq</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span> <span class="o">=</span> <span class="kc">True</span> <span class="p">)</span>
<span class="sa">u</span><span class="s2">&quot;ã€ &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="sa">u</span><span class="s1">&#39;ï¼ˆ&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span><span class="sa">u</span><span class="s1">&#39;ï¼‰&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">wordfreq</span> <span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;å‘å±•ï¼ˆ125ï¼‰ã€ æ”¹é©ï¼ˆ68ï¼‰ã€ æ¨è¿›ï¼ˆ65ï¼‰ã€ å»ºè®¾ï¼ˆ54ï¼‰ã€ ç»æµï¼ˆ52ï¼‰ã€ åŠ å¼ºï¼ˆ45ï¼‰ã€ æ¨åŠ¨ï¼ˆ42ï¼‰ã€ åŠ å¿«ï¼ˆ40ï¼‰ã€ æ”¿åºœï¼ˆ36ï¼‰ã€ åˆ›æ–°ï¼ˆ36ï¼‰ã€ å®Œå–„ï¼ˆ35ï¼‰ã€ ä¼ä¸šï¼ˆ35ï¼‰ã€ å…¨é¢ï¼ˆ35ï¼‰ã€ ä¿ƒè¿›ï¼ˆ34ï¼‰ã€ æé«˜ï¼ˆ32ï¼‰ã€ å°±ä¸šï¼ˆ31ï¼‰ã€ å®æ–½ï¼ˆ31ï¼‰ã€ ä¸­å›½ï¼ˆ31ï¼‰ã€ æ”¯æŒï¼ˆ29ï¼‰ã€ æ·±åŒ–ï¼ˆ29ï¼‰ã€ æ”¿ç­–ï¼ˆ28ï¼‰ã€ æœåŠ¡ï¼ˆ27ï¼‰ã€ å›½å®¶ï¼ˆ26ï¼‰ã€ äººæ°‘ï¼ˆ26ï¼‰ã€ å·¥ä½œï¼ˆ26ï¼‰ã€ åˆ¶åº¦ï¼ˆ25ï¼‰ã€ æˆ‘ä»¬ï¼ˆ25ï¼‰ã€ æ·±å…¥ï¼ˆ25ï¼‰ã€ ç¤¾ä¼šï¼ˆ25ï¼‰ã€ å¢é•¿ï¼ˆ25ï¼‰ã€ ç¾¤ä¼—ï¼ˆ24ï¼‰ã€ åšæŒï¼ˆ24ï¼‰ã€ ä»Šå¹´ï¼ˆ23ï¼‰ã€ ç»§ç»­ï¼ˆ23ï¼‰ã€ åœ°åŒºï¼ˆ22ï¼‰ã€ æ‰©å¤§ï¼ˆ22ï¼‰ã€ å†œæ‘ï¼ˆ20ï¼‰ã€ åšå†³ï¼ˆ20ï¼‰ã€ æœºåˆ¶ï¼ˆ19ï¼‰ã€ æ²»ç†ï¼ˆ19ï¼‰ã€ ç¨³å®šï¼ˆ19ï¼‰ã€ åœ°æ–¹ï¼ˆ19ï¼‰ã€ ä¿éšœï¼ˆ18ï¼‰ã€ å®‰å…¨ï¼ˆ18ï¼‰ã€ ä¿æŠ¤ï¼ˆ18ï¼‰ã€ æŒç»­ï¼ˆ17ï¼‰ã€ åˆä½œï¼ˆ17ï¼‰ã€ å¸‚åœºï¼ˆ17ï¼‰ã€ é‡ç‚¹ï¼ˆ17ï¼‰ã€ å®ç°ï¼ˆ17ï¼‰ã€ æ¶ˆè´¹ï¼ˆ16ï¼‰ã€ æŠ•èµ„ï¼ˆ16ï¼‰ã€ ç»¼åˆï¼ˆ16ï¼‰ã€ è½å®ï¼ˆ16ï¼‰ã€ è¯•ç‚¹ï¼ˆ16ï¼‰ã€ ç»“æ„ï¼ˆ15ï¼‰ã€ æœ‰æ•ˆï¼ˆ15ï¼‰ã€ ç»´æŠ¤ï¼ˆ15ï¼‰ã€ åŠ å¤§ï¼ˆ15ï¼‰ã€ äº§èƒ½ï¼ˆ15ï¼‰ã€ ç§¯æï¼ˆ15ï¼‰ã€ é¢†åŸŸï¼ˆ15ï¼‰ã€ æ•™è‚²ï¼ˆ15ï¼‰ã€ æ”¹å–„ï¼ˆ14ï¼‰ã€ å›½é™…ï¼ˆ14ï¼‰ã€ å›½å†…ï¼ˆ14ï¼‰ã€ åŸå¸‚ï¼ˆ14ï¼‰ã€ æˆ‘å›½ï¼ˆ14ï¼‰ã€ ç”Ÿæ€ï¼ˆ14ï¼‰ã€ ä»¥ä¸Šï¼ˆ14ï¼‰ã€ åŸºæœ¬ï¼ˆ14ï¼‰ã€ é—®é¢˜ï¼ˆ14ï¼‰ã€ å¼ºåŒ–ï¼ˆ13ï¼‰ã€ å¢åŠ ï¼ˆ13ï¼‰ã€ å†œä¸šï¼ˆ13ï¼‰ã€ æå‡ï¼ˆ13ï¼‰ã€ åˆ¶å®šï¼ˆ13ï¼‰ã€ åŠ›åº¦ï¼ˆ13ï¼‰ã€ è´¨é‡ï¼ˆ13ï¼‰ã€ å¼•å¯¼ï¼ˆ13ï¼‰ã€ é™ä½ï¼ˆ13ï¼‰ã€ ä¾æ³•ï¼ˆ12ï¼‰ã€ æˆ˜ç•¥ï¼ˆ12ï¼‰ã€ å‡çº§ï¼ˆ12ï¼‰ã€ é‡è¦ï¼ˆ12ï¼‰ã€ æ ‡å‡†ï¼ˆ12ï¼‰ã€ ä½œç”¨ï¼ˆ12ï¼‰ã€ å¥åº·ï¼ˆ12ï¼‰ã€ ä¿æŒï¼ˆ12ï¼‰ã€ å¢å¼ºï¼ˆ12ï¼‰ã€ ç”Ÿäº§ï¼ˆ12ï¼‰ã€ æ–‡åŒ–ï¼ˆ12ï¼‰ã€ æ›´åŠ ï¼ˆ12ï¼‰ã€ å¿…é¡»ï¼ˆ12ï¼‰ã€ åˆ›ä¸šï¼ˆ12ï¼‰ã€ ç›®æ ‡ï¼ˆ12ï¼‰ã€ æ°‘ç”Ÿï¼ˆ12ï¼‰ã€ ä¸‹é™ï¼ˆ12ï¼‰ã€ ç¡®ä¿ï¼ˆ11ï¼‰ã€ å–å¾—ï¼ˆ11ï¼‰ã€ ä¾›ç»™ï¼ˆ11ï¼‰ã€ ç”Ÿæ´»ï¼ˆ11ï¼‰ã€ æ ¸å¿ƒï¼ˆ11ï¼‰ã€ è§„èŒƒï¼ˆ11ï¼‰ã€ ç¯å¢ƒï¼ˆ11ï¼‰ã€ æ”¶è´¹ï¼ˆ11ï¼‰ã€ è¿›ä¸€æ­¥ï¼ˆ11ï¼‰ã€ ç®¡ç†ï¼ˆ11ï¼‰ã€ åšå¥½ï¼ˆ10ï¼‰ã€ å®Œæˆï¼ˆ10ï¼‰ã€ èµ„é‡‘ï¼ˆ10ï¼‰ã€ èƒ½åŠ›ï¼ˆ10ï¼‰ã€ ä¸æ–­ï¼ˆ10ï¼‰ã€ å¼€å±•ï¼ˆ10ï¼‰ã€ äº§ä¸šï¼ˆ10ï¼‰ã€ å¥å…¨ï¼ˆ10ï¼‰ã€ æ°´å¹³ï¼ˆ10ï¼‰ã€ ç§‘æŠ€ï¼ˆ10ï¼‰ã€ ä½“ç³»ï¼ˆ10ï¼‰ã€ é£é™©ï¼ˆ10ï¼‰ã€ ä¸–ç•Œï¼ˆ10ï¼‰ã€ é¼“åŠ±ï¼ˆ10ï¼‰ã€ é‡å¤§ï¼ˆ10ï¼‰ã€ ä¸€å¹´ï¼ˆ10ï¼‰ã€ ç›‘ç®¡ï¼ˆ10ï¼‰ã€ ä¸€æ‰¹ï¼ˆ10ï¼‰ã€ å›°éš¾ï¼ˆ10ï¼‰ã€ çªå‡ºï¼ˆ9ï¼‰ã€ ä»£è¡¨ï¼ˆ9ï¼‰ã€ è´£ä»»ï¼ˆ9ï¼‰ã€ é‡‘èï¼ˆ9ï¼‰ã€ å…¨å›½ï¼ˆ9ï¼‰ã€ å¤§åŠ›ï¼ˆ9ï¼‰ã€ è¡Œæ”¿ï¼ˆ9ï¼‰ã€ åŒºåŸŸï¼ˆ9ï¼‰ã€ ä½“åˆ¶æ”¹é©ï¼ˆ9ï¼‰ã€ å‡å°‘ï¼ˆ9ï¼‰ã€ è´¯å½»ï¼ˆ9ï¼‰ã€ ç»„ç»‡ï¼ˆ9ï¼‰ã€ ç»æµç¤¾ä¼šï¼ˆ9ï¼‰ã€ å›½åŠ¡é™¢ï¼ˆ8ï¼‰ã€ å„ä½ï¼ˆ8ï¼‰ã€ åè°ƒï¼ˆ8ï¼‰ã€ åˆ¶é€ ï¼ˆ8ï¼‰ã€ å‘æŒ¥ï¼ˆ8ï¼‰ã€ åˆç†ï¼ˆ8ï¼‰ã€ ä¼˜åŒ–ï¼ˆ8ï¼‰ã€ æ‰¶è´«ï¼ˆ8ï¼‰ã€ è°ƒæ§ï¼ˆ8ï¼‰ã€ ä¹ è¿‘å¹³ï¼ˆ8ï¼‰ã€ å…šä¸­å¤®ï¼ˆ8ï¼‰ã€ ä¸“é¡¹ï¼ˆ8ï¼‰ã€ åŠ¨èƒ½ï¼ˆ8ï¼‰ã€ ç°ä»£åŒ–ï¼ˆ8ï¼‰ã€ èµ„æºï¼ˆ8ï¼‰ã€ åŸé•‡ï¼ˆ8ï¼‰ã€ è¡ŒåŠ¨ï¼ˆ8ï¼‰ã€ æ–‡æ˜ï¼ˆ7ï¼‰ã€ å…¨å¹´ï¼ˆ7ï¼‰ã€ å–æ¶ˆï¼ˆ7ï¼‰ã€ ä½æˆ¿ï¼ˆ7ï¼‰ã€ æ–°å‹ï¼ˆ7ï¼‰ã€ ä¸‡äººï¼ˆ7ï¼‰ã€ ç‰¹è‰²ï¼ˆ7ï¼‰ã€ ç”Ÿäº§æ€»å€¼ï¼ˆ7ï¼‰ã€ å‡ºå°ï¼ˆ7ï¼‰ã€ å¼•é¢†ï¼ˆ7ï¼‰ã€ åŸä¹¡ï¼ˆ7ï¼‰ã€ å®ä½“ï¼ˆ7ï¼‰ã€ æ›´å¥½ï¼ˆ7ï¼‰ã€ åŸºç¡€è®¾æ–½ï¼ˆ7ï¼‰ã€ å’Œè°ï¼ˆ7ï¼‰ã€ é«˜æ ¡ï¼ˆ7ï¼‰ã€ è„±è´«ï¼ˆ7ï¼‰ã€ æ”¹é€ ï¼ˆ7ï¼‰ã€ æŠ“å¥½ï¼ˆ6ï¼‰ã€ ä¸¥è‚ƒæŸ¥å¤„ï¼ˆ6ï¼‰ã€ è½¬å‹ï¼ˆ6ï¼‰ã€ æ–°å…´äº§ä¸šï¼ˆ6ï¼‰ã€ æ‰“é€ ï¼ˆ6ï¼‰ã€ äº’è”ç½‘ï¼ˆ6ï¼‰ã€ å¯¹å¤–å¼€æ”¾ï¼ˆ6ï¼‰ã€ è¡¥åŠ©ï¼ˆ6ï¼‰ã€ ç»“æ„æ€§ï¼ˆ6ï¼‰ã€ æ‰å®ï¼ˆ6ï¼‰ã€ å‡ç¨ï¼ˆ6ï¼‰ã€ æ¶‰ä¼ï¼ˆ6ï¼‰ã€ åŸ¹è‚²ï¼ˆ6ï¼‰ã€ è¡¥çŸ­ï¼ˆ6ï¼‰ã€ åŠå¥½ï¼ˆ5ï¼‰ã€ åŒåˆ›ï¼ˆ5ï¼‰ã€ ç²¾å‡†ï¼ˆ5ï¼‰ã€ ç£æŸ¥ï¼ˆ5ï¼‰ã€ è¯•éªŒåŒºï¼ˆ5ï¼‰ã€ åŒ»ä¿ï¼ˆ5ï¼‰ã€ æ”¿ç­–æªæ–½ï¼ˆ5ï¼‰ã€ å®å¹²ï¼ˆ5ï¼‰ã€ 2000ï¼ˆ4ï¼‰ã€ é™è´¹ï¼ˆ4ï¼‰ã€ é—®è´£ï¼ˆ4ï¼‰&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="id9">
<h4>åŸºäºåœç”¨è¯è¿‡æ»¤çš„è¯äº‘<a class="headerlink" href="#id9" title="Permalink to this headline">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#jieba.add_word(&#39;è‚¡ç¾&#39;, freq=100, tag=None) </span>
<span class="n">txt</span> <span class="o">=</span> <span class="n">reports</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">seg_list</span> <span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">cut_all</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">seg_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">seg_list</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stopwords</span><span class="p">]</span>
<span class="n">txt</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seg_list</span><span class="p">)</span>
<span class="n">wordcloudplot</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">txt</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span>  
<span class="c1">#file_path = &#39;/Users/chengjun/GitHub/cjc2016/figures/wordcloud-&#39; + txt[:4] + &#39;.png&#39;</span>
<span class="c1">#plt.savefig(file_path,dpi = 300, bbox_inches=&quot;tight&quot;,transparent = True)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_73_0.png" src="_images/10-text-mining-gov-report_73_0.png" />
</div>
</div>
</section>
</section>
<section id="id10">
<h3>ç»˜åˆ¶1954-2016æ”¿åºœå·¥ä½œæŠ¥å‘Šè¯äº‘<a class="headerlink" href="#id10" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#jieba.add_word(&#39;è‚¡ç¾&#39;, freq=100, tag=None) </span>

<span class="k">for</span> <span class="n">txt</span> <span class="ow">in</span> <span class="n">reports</span><span class="p">:</span>
    <span class="n">seg_list</span> <span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">cut_all</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">seg_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">seg_list</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stopwords</span><span class="p">]</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">seg_list</span><span class="p">)</span>
    <span class="n">wordcloudplot</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">txt</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span> 
    <span class="n">file_path</span> <span class="o">=</span> <span class="s1">&#39;../figure/wordcloud-&#39;</span> <span class="o">+</span> <span class="n">txt</span><span class="p">[:</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;.png&#39;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span><span class="n">dpi</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span><span class="p">,</span>\
                <span class="n">transparent</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_75_0.png" src="_images/10-text-mining-gov-report_75_0.png" />
</div>
</div>
</section>
</section>
<section id="id11">
<h2>5. è¯å‘é‡çš„æ—¶é—´åºåˆ—<a class="headerlink" href="#id11" title="Permalink to this headline">#</a></h2>
<section id="id12">
<h3>ä½¿ç”¨ç›¸å¯¹é¢‘æ•°æ¥è¿›è¡Œè®¡ç®—<a class="headerlink" href="#id12" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;./data/gov_reports1954-2021.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">reports</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">years</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">[:</span><span class="mi">4</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">reports</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># import pandas as pd</span>

<span class="c1"># df = pd.read_table(&#39;./data/gov_reports1954-2021.txt&#39;, names = [&#39;report&#39;])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">jieba</span> 

<span class="k">def</span> <span class="nf">cut_str</span><span class="p">(</span><span class="n">astr</span><span class="p">):</span>
    <span class="n">seg_list</span> <span class="o">=</span> <span class="n">jieba</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">astr</span><span class="p">,</span> <span class="n">cut_all</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">seg_list</span><span class="p">))</span>

<span class="n">report_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">reports</span><span class="p">):</span>
    <span class="n">report_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cut_str</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">CountVectorizer</span>
<span class="n">count</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span><span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">docs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">report_list</span><span class="p">)</span>
<span class="n">bag</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">docs</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bs</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([29.  , 28.57, 32.1 , 32.8 , 33.11, 32.02, 32.58, 31.44, 27.51,
       29.54, 28.44, 29.51, 29.42, 29.32, 27.14, 28.15, 26.93, 27.75,
       29.73, 30.59, 26.5 , 30.22, 31.  , 28.75, 30.17, 26.02, 30.84,
       27.98, 29.49, 27.82, 27.84, 33.02, 30.98, 29.85, 28.31, 28.16,
       26.45, 29.66, 31.02, 31.73, 31.23, 24.95, 29.99, 26.09, 19.55,
       21.51, 27.14, 20.27, 28.3 , 21.22, 28.32, 28.04])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="c1"># Relative Frequency</span>
<span class="n">bt</span> <span class="o">=</span> <span class="n">bag</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="n">bs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">bt</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># numpy divide row by row sum</span>
<span class="n">rf</span> <span class="o">=</span> <span class="n">bt</span><span class="o">/</span><span class="n">bs</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rf</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">())</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">years</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>01</th>
      <th>02</th>
      <th>03</th>
      <th>04</th>
      <th>05</th>
      <th>07</th>
      <th>08</th>
      <th>10</th>
      <th>100</th>
      <th>1000</th>
      <th>...</th>
      <th>é½å¿ƒ</th>
      <th>é½å¿ƒååŠ›</th>
      <th>é½å¿ƒåˆåŠ›</th>
      <th>é½æŠ“å…±ç®¡</th>
      <th>é½æ­¥èµ°</th>
      <th>é½é²</th>
      <th>é¾™å¤´</th>
      <th>é¾™å¤´ä¼ä¸š</th>
      <th>é¾™ç¾Šå³¡</th>
      <th>year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.000155</td>
      <td>0.0</td>
      <td>0.000155</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000619</td>
      <td>0.000773</td>
      <td>0.000155</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000155</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2021</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000239</td>
      <td>0.000239</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2020</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000537</td>
      <td>0.000134</td>
      <td>0.000268</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2019</td>
    </tr>
  </tbody>
</table>
<p>3 rows Ã— 20231 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;ç»æµ&#39;</span><span class="p">][:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    0.006649
1    0.005725
2    0.006172
3    0.007930
4    0.007362
Name: ç»æµ, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.sans-serif&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SimHei&#39;</span><span class="p">]</span>  <span class="c1"># ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.unicode_minus&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ç»æµ&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x1378dfe20&gt;]
</pre></div>
</div>
<img alt="_images/10-text-mining-gov-report_88_1.png" src="_images/10-text-mining-gov-report_88_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plotEvolution</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">linestyle</span><span class="p">,</span> <span class="n">marker</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="n">word</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="n">color</span><span class="p">,</span> 
             <span class="n">linestyle</span><span class="o">=</span><span class="n">linestyle</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">marker</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span> <span class="n">word</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;ç›¸å¯¹é¢‘æ•°&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;æ°‘ä¸»&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;æ³•åˆ¶&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_90_0.png" src="_images/10-text-mining-gov-report_90_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;åŠ¨èƒ½&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;äº’è”ç½‘&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_91_0.png" src="_images/10-text-mining-gov-report_91_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;å·¥ä¸š&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;å†œä¸š&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;åˆ¶é€ ä¸š&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;æœåŠ¡ä¸š&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_92_0.png" src="_images/10-text-mining-gov-report_92_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;æ•™è‚²&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;ç¤¾ä¼šä¿éšœ&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;åŒ»ç–—&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_93_0.png" src="_images/10-text-mining-gov-report_93_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;ç¯å¢ƒ&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;ä½æˆ¿&#39;</span><span class="p">,</span> <span class="s1">&#39;purple&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_94_0.png" src="_images/10-text-mining-gov-report_94_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;å‘å±•&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;ç»æµ&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;æ”¹é©&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;åˆ›æ–°&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_95_0.png" src="_images/10-text-mining-gov-report_95_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;ç¤¾ä¼šä¸»ä¹‰&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;é©¬å…‹æ€ä¸»ä¹‰&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_96_0.png" src="_images/10-text-mining-gov-report_96_0.png" />
</div>
</div>
</section>
<section id="id13">
<h3>ä½¿ç”¨TF-IDFæ¥è®¡ç®—<a class="headerlink" href="#id13" title="Permalink to this headline">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfTransformer</span>
<span class="n">np</span><span class="o">.</span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="n">count</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span><span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">tfidf</span> <span class="o">=</span> <span class="n">TfidfTransformer</span><span class="p">(</span><span class="n">use_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="s1">&#39;l2&#39;</span><span class="p">,</span> <span class="n">smooth_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">docs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">report_list</span><span class="p">)</span>
<span class="n">bag_tfidf</span> <span class="o">=</span> <span class="n">tfidf</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">count</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">docs</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="c1"># Relative Frequency</span>
<span class="n">bt</span> <span class="o">=</span> <span class="n">bag_tfidf</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="n">df_tfidf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">bt</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">())</span>
<span class="n">df_tfidf</span> <span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">years</span>
<span class="n">df_tfidf</span> <span class="o">=</span> <span class="n">df_tfidf</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plotEvolution</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="n">linestyle</span><span class="p">,</span> <span class="n">marker</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df_tfidf</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">],</span> <span class="n">df_tfidf</span><span class="p">[</span><span class="n">word</span><span class="p">],</span> <span class="n">color</span> <span class="o">=</span> <span class="n">color</span><span class="p">,</span> 
             <span class="n">linestyle</span><span class="o">=</span><span class="n">linestyle</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">marker</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span> <span class="n">word</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;TF-IDF&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;æ°‘ä¸»&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;æ³•åˆ¶&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_101_0.png" src="_images/10-text-mining-gov-report_101_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;åŠ¨èƒ½&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;äº’è”ç½‘&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_102_0.png" src="_images/10-text-mining-gov-report_102_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;å·¥ä¸š&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;å†œä¸š&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;åˆ¶é€ ä¸š&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;æœåŠ¡ä¸š&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_103_0.png" src="_images/10-text-mining-gov-report_103_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;æ•™è‚²&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;ç¤¾ä¼šä¿éšœ&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;åŒ»ç–—&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_104_0.png" src="_images/10-text-mining-gov-report_104_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;ç¯å¢ƒ&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;ä½æˆ¿&#39;</span><span class="p">,</span> <span class="s1">&#39;purple&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_105_0.png" src="_images/10-text-mining-gov-report_105_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;å‘å±•&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;ç»æµ&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;æ”¹é©&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;åˆ›æ–°&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_106_0.png" src="_images/10-text-mining-gov-report_106_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;ç¤¾ä¼šä¸»ä¹‰&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">plotEvolution</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;é©¬å…‹æ€ä¸»ä¹‰&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/10-text-mining-gov-report_107_0.png" src="_images/10-text-mining-gov-report_107_0.png" />
</div>
</div>
<p><img alt="image.png" src="_images/end.png" /></p>
</section>
</section>
<div class="toctree-wrapper compound">
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="09-16-pytorch_vgg_pretrained.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">VGG16é¢„è®­ç»ƒæ¨¡å‹</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="10-word2vec.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">è¯å‘é‡æ¨¡å‹ç®€ä»‹</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Cheng-Jun Wang<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>