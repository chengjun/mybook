
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ä½¿ç”¨Pyppeteerå®ç°å¼‚æ­¥æŠ“å–! &#8212; è®¡ç®—ä¼ æ’­å­¦</title>
    
  <link href="_static/css/theme.css" rel="stylesheet" />
  <link href="_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="è½»å‹å¾®åšçˆ¬è™«" href="04-crawler-weibo.html" />
    <link rel="prev" title="ä½¿ç”¨SeleniumæŠ“å–TripAdvisorç”¨æˆ·è¯„è®º" href="04-crawler-tripadvisor.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/socrates_jump.gif" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">è®¡ç®—ä¼ æ’­å­¦</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="index.html">
   å¯»æ‰¾äººç±»ä¼ æ’­è¡Œä¸ºçš„åŸºå› 
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="01-intro2cjc.html">
   ç¬¬ä¸€ç«  è®¡ç®—ä¼ æ’­å­¦ç®€ä»‹
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="02-bigdata.html">
     æ•°æ®ç§‘å­¦çš„ç¼–ç¨‹å·¥å…·ï¼šå¤§æ•°æ®
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="03-python-intro.html">
   ç¬¬äºŒç«  æ•°æ®ç§‘å­¦çš„ç¼–ç¨‹å·¥å…·
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="0-jupyter-notebook.html">
     Jupyter Notebook
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="0-slides.html">
     ä½¿ç”¨Jupyteråˆ¶ä½œSlidesçš„ä»‹ç»
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="0-turicreate.html">
     Turicreate: Departure from Graphlab
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="0-matplotlib-chinese.html">
     è§£å†³Matplotlibç»˜å›¾æ˜¾ç¤ºä¸­æ–‡é—®é¢˜
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03-UK-MPS-Scandal.html">
     æ¡ˆä¾‹ï¼š2009å¹´è‹±å›½å›½ä¼šè®®å‘˜å¼€æ”¯ä¸‘é—»
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03-umbrella-of-love.html">
     æ¡ˆä¾‹ï¼šã€Šè½¬è§’é‡åˆ°çˆ±ã€‹èƒŒåçš„æ•°æ®
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03-who-runs-China.html">
     æ¡ˆä¾‹ï¼šWho runs Chinaï¼ŸèƒŒåçš„æ•°æ®
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="04-crawler-beautifulsoup.html">
   ç¬¬ä¸‰ç«  æ•°æ®æŠ“å–
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-fact-checking.html">
     æŠ“å–å®æ—¶è¾Ÿè°£æ•°æ®
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-13chambers.html">
     æŠ“å–ç½‘ç»œå°è¯´
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-wechat.html">
     æŠ“å–å¾®ä¿¡å…¬ä¼—å·æ–‡ç« å†…å®¹
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-douban.html">
     ä½¿ç”¨requests + XpathæŠ“å–è±†ç“£ç”µå½±æ•°æ®
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-gov-report.html">
     æŠ“å–å†å±Šæ”¿åºœå·¥ä½œæŠ¥å‘Š
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-cppcc.html">
     æŠ“å–æ±Ÿè‹çœæ”¿ååå¹´ææ¡ˆ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-netease-music.html">
     æŠ“å–ç½‘æ˜“äº‘éŸ³ä¹çƒ­é—¨è¯„è®º
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-selenium.html">
     ä½¿ç”¨Seleniumæ“çºµæµè§ˆå™¨
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-selenium-music-history.html">
     æŠ“å–ç½‘æ˜“äº‘éŸ³ä¹ç”¨æˆ·çš„å¬æ­Œè®°å½•
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-selenium-people-com-search.html">
     ä½¿ç”¨Seleniumæå–äººæ°‘ç½‘æœç´¢æ•°æ®
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-tripadvisor.html">
     ä½¿ç”¨SeleniumæŠ“å–TripAdvisorç”¨æˆ·è¯„è®º
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     ä½¿ç”¨Pyppeteerå®ç°å¼‚æ­¥æŠ“å–!
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-crawler-weibo.html">
     è½»å‹å¾®åšçˆ¬è™«
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="06-data-cleaning-intro.html">
   ç¬¬å››ç«  æ•°æ®æ¸…æ´—
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="06-data-cleaning-preprocessing.html">
     å¯¹å¤§æ•°æ®è¿›è¡Œé¢„å¤„ç†
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06-data-cleaning-tweets.html">
     æ•°æ®æ¸…æ´—ä¹‹æ¨ç‰¹æ•°æ®
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06-data-cleaning-occupy-central-news.html">
     å¯¹å ä¸­æ–°é—»è¿›è¡Œæ•°æ®æ¸…æ´—
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06-data-cleaning-music-list.html">
     æ¸…æ´—éŸ³ä¹åˆ—è¡¨ğŸµ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06-data-cleaning-pandas.html">
     ä½¿ç”¨Pandasè¿›è¡Œæ•°æ®æ¸…æ´—
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="08-01-statistics-thinking.html">
   ç¬¬äº”ç«  ç»Ÿè®¡æ€ç»´
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="08-02-kl-divergence.html">
     KL Divergence
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-02-linear-algebra.html">
     Linear algebra
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-03-distributions.html">
     Distribution Functions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-03-probability.html">
     Probability
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-04-hypothesis-inference.html">
     Statistical Hypothesis Testing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-05-gradient-descent.html">
     Introduction to Gradient Descent
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-06-regression.html">
     Linear Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-06-statsmodels.html">
     Statistical Modeling with Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-07-analyzing-titanic-dataset.html">
     Logistic Regression of Titanic Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-07-covid19-pew-survey.html">
     Analysing the Pew Survey Data of COVID19
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-08-covid19-grangercausality.html">
     ç¤¾äº¤åª’ä½“å¯ä»¥é¢„æµ‹æ–°å† ç–«æƒ…å—ï¼Ÿ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-09-survival-analysis.html">
     Survival Analysis with Python
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="09-01-machine-learning-with-sklearn.html">
   ç¬¬å…­ç«  ç¤¾ä¼šç§‘å­¦å®¶çš„æœºå™¨å­¦ä¹ 
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="09-03-hyperparameters-and-model-validation.html">
     Hyperparameters and Model Validation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-04-feature-engineering.html">
     Feature Engineering
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-05-naive-bayes.html">
     In Depth: Naive Bayes Classification
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-06-linear-regression.html">
     In Depth: Linear Regression
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-07-support-vector-machines.html">
     In-Depth: Support Vector Machines
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-08-random-forests.html">
     In-Depth: Decision Trees and Random Forests
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-09-googleflustudy.html">
     Forecasting and nowcasting with Google Flu Trends
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-10-future-employment.html">
     The future of employment
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-grf.html">
     Causal Forests
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="09-11-neural-network-intro.html">
   ç¬¬ä¸ƒç«  ç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ 
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="09-13-cnn.html">
     Convolutional Networks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-14-rnn.html">
     Sequnce Modeling: Recurrent and Recursive Nets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-12-hand-written-digits.html">
     Recognizing Hand-Written Digits with Neural Networks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-15-cifar10.html">
     ä½¿ç”¨CNNå¯¹CIFAR10å›¾åƒè¿›è¡Œåˆ†ç±»
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-16-pytorch_vgg_pretrained.html">
     VGG16é¢„è®­ç»ƒæ¨¡å‹
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="10-text-minning-gov-report.html">
   ç¬¬å…«ç«  æ–‡æœ¬æŒ–æ˜
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="10-word2vec.html">
     è¯å‘é‡æ¨¡å‹ç®€ä»‹
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="10-doc2vec.html">
     Doc2Vec
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-1-sentiment-analysis-with-dict.html">
     åŸºäºå­—å…¸çš„æƒ…æ„Ÿåˆ†æ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-2-emotion-dict.html">
     å¤§è¿ç†å·¥å¤§å­¦ä¸­æ–‡æƒ…æ„Ÿè¯æ±‡
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-3-NRC-Chinese-dict.html">
     åŸºäºNRCå­—å…¸çš„æƒ…æ„Ÿåˆ†æ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-3-textblob.html">
     åˆ©ç”¨textblobè¿›è¡Œæƒ…æ„Ÿåˆ†æ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-4-sentiment-classifier.html">
     åŸºäºæœºå™¨å­¦ä¹ çš„æƒ…æ„Ÿåˆ†æ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-5-LIWC.html">
     LIWC: Linguistic Inquiry and Word Count  analyzer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="12-topic-models-update.html">
     ä¸»é¢˜æ¨¡å‹ç®€ä»‹
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="12-topic-models-with-turicreate.html">
     ä½¿ç”¨Turicreateå»ºç«‹ä¸»é¢˜æ¨¡å‹
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="13-recsys-intro.html">
   ç¬¬ä¹ç«  æ¨èç³»ç»Ÿç®€ä»‹
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="13-recsys-latent-factor-model.html">
     Latent Factor Recommender System
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="13-recsys-intro-surprise.html">
     ä½¿ç”¨Surpriseæ„å»ºæ¨èç³»ç»Ÿ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="14-millionsong.html">
     ä½¿ç”¨Turicreateè¿›è¡ŒéŸ³ä¹æ¨è
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="14-movielens.html">
     ä½¿ç”¨Turicreateè¿›è¡Œç”µå½±æ¨è
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="15-network-science-intro.html">
   ç¬¬åç«  ç½‘ç»œç§‘å­¦ç®€ä»‹
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="16-network-science-models.html">
     ç½‘ç»œç§‘å­¦æ¨¡å‹
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="17-networkx.html">
     ä½¿ç”¨NetworkXåˆ†æç½‘ç»œ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="18-02-network-diffusion.html">
     Simulating Network Diffusion With NDlib
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="18-03-network-epidemics.html">
     Epidemics on Networks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="18-04-seir-hcd-model.html">
     SEIR-HCD Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="18-network-ergm-siena.html">
     Social Network Analysis
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="18-network-weibo-hot-search.html">
     å¾®åšçƒ­æœåˆ†æ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="18-network-analysis-of-tianya-bbs.html">
     å¤©æ¶¯è®ºå›çš„å›å¸–ç½‘ç»œåˆ†æ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="19-facebook-ego-netwrok-visualization.html">
     å¯è§†åŒ–Facebookç¤¾äº¤ç½‘ç»œ
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="18-network-ecomplexity.html">
     Economic Complexity and Product Complexity
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="19-visualization-with-seaborn.html">
   ç¬¬åä¸€ç«  å¯è§†åŒ–
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="19-visualization-scientific-plot.html">
     Matplotlibçš„ç§‘å­¦ç»˜å›¾æ ·å¼
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="19-visualization-with-pyecharts.html">
     ä½¿ç”¨PyEchartsè¿›è¡Œå¯è§†åŒ–
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="19-visualization-plotly-express.html">
     Plotly Express in Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="19-visualization-maps-using-folium.html">
     ä½¿ç”¨foliumåšåœ°å›¾å¯è§†åŒ–
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="19-visualization-datashader.html">
     ä½¿ç”¨Datashaderå¯è§†åŒ–åœ°ç†ä¿¡æ¯
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="19-visualization-datapane.html">
     ä½¿ç”¨Datapaneåˆ¶ä½œæ•°æ®æŠ¥å‘Š
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Pantheon.html">
     ä¸‡ç¥æ®¿é¡¹ç›®ï¼ˆPantheon Projectï¼‰
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/04-crawler-pyppeteer.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/chengjun/mybook"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/chengjun/mybook/issues/new?title=Issue%20on%20page%20%2F04-crawler-pyppeteer.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/chengjun/mybook/main?urlpath=tree/04-crawler-pyppeteer.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/chengjun/mybook/blob/main/04-crawler-pyppeteer.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   è¯¦ç»†ç”¨æ³•
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     å¼€å¯æµè§ˆå™¨
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="pyppeteer">
<h1>ä½¿ç”¨Pyppeteerå®ç°å¼‚æ­¥æŠ“å–!<a class="headerlink" href="#pyppeteer" title="Permalink to this headline">Â¶</a></h1>
<p>https://mp.weixin.qq.com/s/cWDbLcB_eYBDqBg11Jof3g</p>
<p>Selenium åº“æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œå¾ˆå¤šäººå¯èƒ½å¯¹å®ƒå¹¶ä¸é™Œç”Ÿï¼Œä¸è¿‡åœ¨ä½¿ç”¨ Selenium è¿‡ç¨‹ä¸­ï¼Œä¼šé‡åˆ°ä¸€äº›éº»çƒ¦çš„äº‹æƒ…ï¼Œå¦‚è¦æå‰å‡†å¤‡å¥½ç¯å¢ƒé…ç½®ã€é©±åŠ¨ç­‰ï¼Œè€Œä¸”åœ¨å¤§è§„æ¨¡éƒ¨ç½²ä¸­ä¹Ÿä¼šä¸é‡åˆ°è®©æˆ‘ä»¬å¤´ç–¼çš„äº‹æƒ…ï¼Œé‚£æœ‰ä»€ä¹ˆè§£å†³æ–¹æ³•å‘¢ï¼Ÿ</p>
<ul class="simple">
<li><p><strong>Pu</strong>ppeteer æ˜¯ Google åŸºäº Node.js å¼€å‘çš„ä¸€ä¸ªå·¥å…·ï¼Œæœ‰äº†å®ƒæˆ‘ä»¬å¯ä»¥é€šè¿‡ JavaScript æ¥æ§åˆ¶ Chrome æµè§ˆå™¨çš„ä¸€äº›æ“ä½œï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨ä½œç½‘ç»œçˆ¬è™«ä¸Šï¼Œå…¶ API æå…¶å®Œå–„ï¼ŒåŠŸèƒ½éå¸¸å¼ºå¤§ã€‚</p></li>
<li><p><strong>Py</strong>ppeteer æ˜¯ Puppeteer çš„ Python ç‰ˆæœ¬çš„å®ç°ã€‚æ˜¯ä¸€ä½æ¥è‡ªäºæ—¥æœ¬çš„å·¥ç¨‹å¸ˆä¾æ® Puppeteer çš„ä¸€äº›åŠŸèƒ½å¼€å‘å‡ºæ¥çš„éå®˜æ–¹ç‰ˆæœ¬ã€‚</p>
<ul>
<li><p>å®ƒèƒŒåä¹Ÿæ˜¯æœ‰ä¸€ä¸ªç±»ä¼¼ Chrome æµè§ˆå™¨çš„ Chromium æµè§ˆå™¨åœ¨æ‰§è¡Œä¸€äº›åŠ¨ä½œè¿›è¡Œç½‘é¡µæ¸²æŸ“</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip3 install pyppeteer
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pyppeteer in /usr/local/lib/python3.7/site-packages (0.0.25)
Requirement already satisfied: urllib3 in /usr/local/lib/python3.7/site-packages (from pyppeteer) (1.25.8)
Requirement already satisfied: tqdm in /usr/local/lib/python3.7/site-packages (from pyppeteer) (4.43.0)
Requirement already satisfied: appdirs in /usr/local/lib/python3.7/site-packages (from pyppeteer) (1.4.3)
Requirement already satisfied: pyee in /usr/local/lib/python3.7/site-packages (from pyppeteer) (7.0.1)
Requirement already satisfied: websockets in /usr/local/lib/python3.7/site-packages (from pyppeteer) (8.1)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyppeteer</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip install pyquery
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting pyquery
  Using cached pyquery-1.4.3-py3-none-any.whl (22 kB)
Requirement already satisfied: lxml&gt;=2.1 in /opt/anaconda3/lib/python3.7/site-packages (from pyquery) (4.6.1)
Collecting cssselect&gt;0.7.9
  Using cached cssselect-1.1.0-py2.py3-none-any.whl (16 kB)
Installing collected packages: cssselect, pyquery
Successfully installed cssselect-1.1.0 pyquery-1.4.3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">pyquery</span> <span class="kn">import</span> <span class="n">PyQuery</span> <span class="k">as</span> <span class="n">pq</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://quotes.toscrape.com/js/&#39;</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">doc</span> <span class="o">=</span> <span class="n">pq</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Quotes:&#39;</span><span class="p">,</span> <span class="n">doc</span><span class="p">(</span><span class="s1">&#39;.quote&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">length</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Quotes: 0
</pre></div>
</div>
</div>
</div>
<p>ç»“æœæ˜¯ 0ï¼Œè¿™å°±è¯æ˜ä½¿ç”¨ requests æ˜¯æ— æ³•æ­£å¸¸æŠ“å–åˆ°ç›¸å…³æ•°æ®çš„ã€‚å› ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºè¿™ä¸ªé¡µé¢æ˜¯ JavaScript æ¸²æŸ“è€Œæˆçš„ï¼Œæˆ‘ä»¬æ‰€çœ‹åˆ°çš„å†…å®¹éƒ½æ˜¯ç½‘é¡µåŠ è½½ååˆæ‰§è¡Œäº† JavaScript ä¹‹åæ‰å‘ˆç°å‡ºæ¥çš„ï¼Œå› æ­¤è¿™äº›æ¡ç›®æ•°æ®å¹¶ä¸å­˜åœ¨äºåŸå§‹ HTML ä»£ç ä¸­ï¼Œè€Œ requests ä»…ä»…æŠ“å–çš„æ˜¯åŸå§‹ HTML ä»£ç ã€‚</p>
<ul class="simple">
<li><p>åˆ†æç½‘é¡µæºä»£ç æ•°æ®ï¼Œå¦‚æœæ•°æ®æ˜¯éšè—åœ¨ HTML ä¸­çš„å…¶ä»–åœ°æ–¹ï¼Œä»¥ JavaScript å˜é‡çš„å½¢å¼å­˜åœ¨ï¼Œç›´æ¥æå–å°±å¥½äº†ã€‚</p></li>
<li><p>åˆ†æ Ajaxï¼Œå¾ˆå¤šæ•°æ®å¯èƒ½æ˜¯ç»è¿‡ Ajax è¯·æ±‚æ—¶å€™è·å–çš„ï¼Œæ‰€ä»¥å¯ä»¥åˆ†æå…¶æ¥å£ã€‚</p></li>
<li><p>æ¨¡æ‹Ÿ JavaScript æ¸²æŸ“è¿‡ç¨‹ï¼Œç›´æ¥æŠ“å–æ¸²æŸ“åçš„ç»“æœã€‚</p>
<ul>
<li><p>è€Œ Pyppeteer å’Œ Selenium å°±æ˜¯ç”¨çš„ç¬¬ä¸‰ç§æ–¹æ³•</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nest_asyncio</span>
<span class="n">nest_asyncio</span><span class="o">.</span><span class="n">apply</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">pyppeteer</span> <span class="kn">import</span> <span class="n">launch</span>
<span class="kn">from</span> <span class="nn">pyquery</span> <span class="kn">import</span> <span class="n">PyQuery</span> <span class="k">as</span> <span class="n">pq</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">browser</span> <span class="o">=</span> <span class="k">await</span> <span class="n">launch</span><span class="p">()</span>
    <span class="n">page</span> <span class="o">=</span> <span class="k">await</span> <span class="n">browser</span><span class="o">.</span><span class="n">newPage</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="s1">&#39;http://quotes.toscrape.com/js/&#39;</span><span class="p">)</span>
    <span class="n">doc</span> <span class="o">=</span> <span class="n">pq</span><span class="p">(</span><span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">content</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Quotes:&#39;</span><span class="p">,</span> <span class="n">doc</span><span class="p">(</span><span class="s1">&#39;.quote&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">length</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">browser</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Quotes: 10
</pre></div>
</div>
</div>
</div>
<p>Pyppeteerå®Œæˆäº†æµè§ˆå™¨çš„å¼€å¯ã€æ–°å»ºé¡µé¢ã€é¡µé¢åŠ è½½ç­‰æ“ä½œã€‚å¦å¤– Pyppeteerè¿›è¡Œäº†å¼‚æ­¥æ“ä½œï¼Œéœ€è¦é…åˆ async/await å…³é”®è¯æ¥å®ç°ã€‚</p>
<ul class="simple">
<li><p>é¦–å…ˆï¼Œ launch æ–¹æ³•ä¼šæ–°å»ºä¸€ä¸ª Browser å¯¹è±¡ï¼Œ</p></li>
<li><p>ç„¶åèµ‹å€¼ç»™ browserï¼Œ</p></li>
<li><p>ç„¶åè°ƒç”¨ newPage</p>
<ul>
<li><p>æ–¹æ³•ç›¸å½“äºæµè§ˆå™¨ä¸­æ–°å»ºäº†ä¸€ä¸ªé€‰é¡¹å¡ï¼ŒåŒæ—¶æ–°å»ºäº†ä¸€ä¸ª Page å¯¹è±¡ã€‚</p></li>
</ul>
</li>
<li><p>ç„¶å Page å¯¹è±¡è°ƒç”¨äº† goto æ–¹æ³•å°±ç›¸å½“äºåœ¨æµè§ˆå™¨ä¸­è¾“å…¥äº†è¿™ä¸ª URLï¼Œæµè§ˆå™¨è·³è½¬åˆ°äº†å¯¹åº”çš„é¡µé¢è¿›è¡ŒåŠ è½½ï¼ŒåŠ è½½å®Œæˆä¹‹åå†è°ƒç”¨ content æ–¹æ³•ï¼Œè¿”å›å½“å‰æµè§ˆå™¨é¡µé¢çš„æºä»£ç ã€‚</p></li>
<li><p>ç„¶åè¿›ä¸€æ­¥åœ°ï¼Œç”¨ pyquery è¿›è¡ŒåŒæ ·åœ°è§£æï¼Œå°±å¯ä»¥å¾—åˆ° JavaScript æ¸²æŸ“çš„ç»“æœäº†ã€‚</p></li>
</ul>
<p>å¦å¤–å…¶ä»–çš„ä¸€äº›æ–¹æ³•å¦‚è°ƒç”¨ asyncio çš„ get_event_loop ç­‰æ–¹æ³•çš„ç›¸å…³æ“ä½œåˆ™å±äº Python å¼‚æ­¥ async ç›¸å…³çš„å†…å®¹äº†ï¼Œå¤§å®¶å¦‚æœä¸ç†Ÿæ‚‰å¯ä»¥äº†è§£ä¸‹ Python çš„ async/await çš„ç›¸å…³çŸ¥è¯†ã€‚</p>
<p>é€šè¿‡ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®Œæˆ JavaScript æ¸²æŸ“é¡µé¢çš„çˆ¬å–äº†ã€‚</p>
<ul class="simple">
<li><p>æˆ‘ä»¬æ²¡æœ‰é…ç½® Chrome æµè§ˆå™¨ï¼Œ</p></li>
<li><p>æ²¡æœ‰é…ç½®æµè§ˆå™¨é©±åŠ¨ï¼Œ</p></li>
</ul>
<p>å…å»äº†ä¸€äº›ç¹ççš„æ­¥éª¤ï¼ŒåŒæ ·è¾¾åˆ°äº† Selenium çš„æ•ˆæœï¼Œè¿˜å®ç°äº†å¼‚æ­¥æŠ“å–ï¼</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># æ¨¡æ‹Ÿç½‘é¡µæˆªå›¾ï¼Œä¿å­˜ PDF</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">pyppeteer</span> <span class="kn">import</span> <span class="n">launch</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">browser</span> <span class="o">=</span> <span class="k">await</span> <span class="n">launch</span><span class="p">()</span>
    <span class="n">page</span> <span class="o">=</span> <span class="k">await</span> <span class="n">browser</span><span class="o">.</span><span class="n">newPage</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="s1">&#39;http://quotes.toscrape.com/js/&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">screenshot</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;example.png&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">pdf</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;./data/example.pdf&#39;</span><span class="p">)</span>
    <span class="n">dimensions</span> <span class="o">=</span> <span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;() =&gt; {</span>
<span class="s1">        return {</span>
<span class="s1">            width: document.documentElement.clientWidth,</span>
<span class="s1">            height: document.documentElement.clientHeight,</span>
<span class="s1">            deviceScaleFactor: window.devicePixelRatio,</span>
<span class="s1">        }</span>
<span class="s1">    }&#39;&#39;&#39;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="n">dimensions</span><span class="p">)</span>
    <span class="c1"># &gt;&gt;&gt; {&#39;width&#39;: 800, &#39;height&#39;: 600, &#39;deviceScaleFactor&#39;: 1}</span>
    <span class="k">await</span> <span class="n">browser</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;width&#39;: 800, &#39;height&#39;: 600, &#39;deviceScaleFactor&#39;: 1}
</pre></div>
</div>
</div>
</div>
<div class="section" id="id1">
<h2>è¯¦ç»†ç”¨æ³•<a class="headerlink" href="#id1" title="Permalink to this headline">Â¶</a></h2>
<p>äº†è§£äº†åŸºæœ¬çš„å®ä¾‹ä¹‹åï¼Œæˆ‘ä»¬å†æ¥æ¢³ç†ä¸€ä¸‹ Pyppeteer çš„ä¸€äº›åŸºæœ¬å’Œå¸¸ç”¨æ“ä½œã€‚</p>
<ul class="simple">
<li><p>Pyppeteer çš„å‡ ä¹æ‰€æœ‰åŠŸèƒ½éƒ½èƒ½åœ¨å…¶å®˜æ–¹æ–‡æ¡£çš„ API Reference é‡Œé¢æ‰¾åˆ°https://miyakogi.github.io/pyppeteer/reference.htmlï¼Œ</p></li>
<li><p>ç”¨åˆ°å“ªä¸ªæ–¹æ³•å°±æ¥è¿™é‡ŒæŸ¥è¯¢å°±å¥½äº†ï¼Œå‚æ•°ä¸å¿…æ­»è®°ç¡¬èƒŒï¼Œå³ç”¨å³æŸ¥å°±å¥½ã€‚</p></li>
</ul>
<div class="section" id="id2">
<h3>å¼€å¯æµè§ˆå™¨<a class="headerlink" href="#id2" title="Permalink to this headline">Â¶</a></h3>
<p>ä½¿ç”¨ Pyppeteer çš„ç¬¬ä¸€æ­¥ä¾¿æ˜¯å¯åŠ¨æµè§ˆå™¨ï¼Œé¦–å…ˆæˆ‘ä»¬çœ‹ä¸‹æ€æ ·å¯åŠ¨ä¸€ä¸ªæµè§ˆå™¨ï¼Œå…¶å®å°±ç›¸å½“äºæˆ‘ä»¬ç‚¹å‡»æ¡Œé¢ä¸Šçš„æµè§ˆå™¨å›¾æ ‡ä¸€æ ·ï¼ŒæŠŠå®ƒå¼€èµ·æ¥ã€‚ç”¨ Pyppeteer å®ŒæˆåŒæ ·çš„æ“ä½œï¼Œåªéœ€è¦è°ƒç”¨ launch æ–¹æ³•å³å¯ã€‚</p>
<p>æˆ‘ä»¬å…ˆçœ‹ä¸‹ launch æ–¹æ³•çš„ APIï¼Œé“¾æ¥ä¸ºï¼š</p>
<p>https://miyakogi.github.io/pyppeteer/reference.html#pyppeteer.launcher.launch</p>
<p>é¦–å…ˆå¯ä»¥è¯•ç”¨ä¸‹æœ€å¸¸ç”¨çš„å‚æ•° headlessï¼Œ</p>
<ul class="simple">
<li><p>å¦‚æœæˆ‘ä»¬å°†å®ƒè®¾ç½®ä¸º True æˆ–è€…é»˜è®¤ä¸è®¾ç½®å®ƒï¼Œåœ¨å¯åŠ¨çš„æ—¶å€™æˆ‘ä»¬æ˜¯çœ‹ä¸åˆ°ä»»ä½•ç•Œé¢çš„ï¼Œ</p></li>
<li><p>å¦‚æœæŠŠå®ƒè®¾ç½®ä¸º Falseï¼Œé‚£ä¹ˆåœ¨å¯åŠ¨çš„æ—¶å€™å°±å¯ä»¥çœ‹åˆ°ç•Œé¢äº†</p></li>
<li><p>ä¸€èˆ¬æˆ‘ä»¬åœ¨è°ƒè¯•çš„æ—¶å€™ä¼šæŠŠå®ƒè®¾ç½®ä¸º Falseï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸Šå°±å¯ä»¥è®¾ç½®ä¸º True</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">pyppeteer</span> <span class="kn">import</span> <span class="n">launch</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">await</span> <span class="n">launch</span><span class="p">(</span><span class="n">headless</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p>å¼€å¯è°ƒè¯•æ¨¡å¼</p>
<p>æ¯”å¦‚åœ¨å†™çˆ¬è™«çš„æ—¶å€™ä¼šç»å¸¸éœ€è¦åˆ†æç½‘é¡µç»“æ„è¿˜æœ‰ç½‘ç»œè¯·æ±‚ï¼Œæ‰€ä»¥å¼€å¯è°ƒè¯•å·¥å…·è¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œ</p>
<ul class="simple">
<li><p>æˆ‘ä»¬å¯ä»¥å°† devtools å‚æ•°è®¾ç½®ä¸º Trueï¼Œ</p></li>
<li><p>è¿™æ ·æ¯å¼€å¯ä¸€ä¸ªç•Œé¢å°±ä¼šå¼¹å‡ºä¸€ä¸ªè°ƒè¯•çª—å£ï¼Œéå¸¸æ–¹ä¾¿ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">pyppeteer</span> <span class="kn">import</span> <span class="n">launch</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">browser</span> <span class="o">=</span> <span class="k">await</span> <span class="n">launch</span><span class="p">(</span><span class="n">devtools</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">page</span> <span class="o">=</span> <span class="k">await</span> <span class="n">browser</span><span class="o">.</span><span class="n">newPage</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="s1">&#39;https://www.baidu.com&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p>args å‚æ•°ç¦ç”¨æ“ä½œï¼š</p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„ä¸€æ¡æç¤ºï¼šâ€Chrome æ­£å—åˆ°è‡ªåŠ¨æµ‹è¯•è½¯ä»¶çš„æ§åˆ¶â€ï¼Œå¦‚ä½•å…³é—­å‘¢ï¼Ÿ</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">browser</span> <span class="o">=</span> <span class="k">await</span> <span class="n">launch</span><span class="p">(</span><span class="n">headless</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;--disable-infobars&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>è¿™é‡Œä½ åªæ˜¯æŠŠæç¤ºå…³é—­äº†ï¼Œæœ‰äº›ç½‘ç«™è¿˜æ˜¯ä¼šæ£€æµ‹åˆ°æ˜¯ webdriver å§ï¼Œæ¯”å¦‚æ·˜å®æ£€æµ‹åˆ°æ˜¯ webdriver å°±ä¼šç¦æ­¢ç™»å½•äº†ï¼Œæˆ‘ä»¬å¯ä»¥è¯•è¯•ï¼š</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">pyppeteer</span> <span class="kn">import</span> <span class="n">launch</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">browser</span> <span class="o">=</span> <span class="k">await</span> <span class="n">launch</span><span class="p">(</span><span class="n">headless</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">page</span> <span class="o">=</span> <span class="k">await</span> <span class="n">browser</span><span class="o">.</span><span class="n">newPage</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="s1">&#39;https://www.taobao.com&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p>çˆ¬è™«çš„æ—¶å€™çœ‹åˆ°è¿™ç•Œé¢æ˜¯å¾ˆè®©äººå´©æºƒçš„å§ï¼Œè€Œä¸”è¿™æ—¶å€™æˆ‘ä»¬è¿˜å‘ç°äº†é¡µé¢çš„ bugï¼Œæ•´ä¸ªæµè§ˆå™¨çª—å£æ¯”æ˜¾ç¤ºçš„å†…å®¹çª—å£è¦å¤§ï¼Œè¿™ä¸ªæ˜¯æŸäº›é¡µé¢ä¼šå‡ºç°çš„æƒ…å†µï¼Œè®©äººçœ‹èµ·æ¥å¾ˆä¸çˆ½ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å…ˆè§£å†³ä¸€ä¸‹è¿™ä¸ªæ˜¾ç¤ºçš„ bugï¼Œéœ€è¦è®¾ç½®ä¸‹ window-size è¿˜æœ‰ viewportï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">pyppeteer</span> <span class="kn">import</span> <span class="n">launch</span>

<span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="mi">1366</span><span class="p">,</span> <span class="mi">768</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">browser</span> <span class="o">=</span> <span class="k">await</span> <span class="n">launch</span><span class="p">(</span><span class="n">headless</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                           <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;--window-size=</span><span class="si">{</span><span class="n">width</span><span class="si">}</span><span class="s1">,</span><span class="si">{</span><span class="n">height</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">])</span>
    <span class="n">page</span> <span class="o">=</span> <span class="k">await</span> <span class="n">browser</span><span class="o">.</span><span class="n">newPage</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">setViewport</span><span class="p">({</span><span class="s1">&#39;width&#39;</span><span class="p">:</span> <span class="n">width</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="n">height</span><span class="p">})</span>
    <span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="s1">&#39;https://www.taobao.com&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p>OKï¼Œé‚£åˆšæ‰æ‰€è¯´çš„ webdriver æ£€æµ‹é—®é¢˜æ€æ ·æ¥è§£å†³å‘¢ï¼Ÿå…¶å®æ·˜å®ä¸»è¦é€šè¿‡ window.navigator.webdriver æ¥å¯¹ webdriver è¿›è¡Œæ£€æµ‹ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ JavaScript å°†å®ƒè®¾ç½®ä¸º false å³å¯ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">pyppeteer</span> <span class="kn">import</span> <span class="n">launch</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">browser</span> <span class="o">=</span> <span class="k">await</span> <span class="n">launch</span><span class="p">(</span><span class="n">headless</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;--disable-infobars&#39;</span><span class="p">])</span>
    <span class="n">page</span> <span class="o">=</span> <span class="k">await</span> <span class="n">browser</span><span class="o">.</span><span class="n">newPage</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="s1">&#39;https://login.taobao.com/member/login.jhtml?redirectURL=https://www.taobao.com/&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span>
        <span class="sd">&#39;&#39;&#39;() =&gt;{ Object.defineProperties(navigator,{ webdriver:{ get: () =&gt; false } }) }&#39;&#39;&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p>è¿™é‡Œæ²¡åŠ è¾“å…¥ç”¨æˆ·åå¯†ç çš„ä»£ç ï¼Œå½“ç„¶åé¢å¯ä»¥è‡ªè¡Œæ·»åŠ ï¼Œä¸‹é¢æ‰“å¼€ä¹‹åï¼Œæˆ‘ä»¬ç‚¹å‡»è¾“å…¥ç”¨æˆ·åå¯†ç ï¼Œç„¶åè¿™æ—¶å€™ä¼šå‡ºç°ä¸€ä¸ªæ»‘åŠ¨æ¡ï¼Œè¿™é‡Œæ»‘åŠ¨çš„è¯ï¼Œå°±å¯ä»¥é€šè¿‡äº†</p>
<p>OKï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å°±æˆåŠŸè§„é¿äº† webdriver çš„æ£€æµ‹ï¼Œä½¿ç”¨é¼ æ ‡æ‹–åŠ¨æ¨¡æ‹Ÿå°±å¯ä»¥å®Œæˆæ·˜å®çš„ç™»å½•äº†ã€‚</p>
<p><img alt="image.png" src="_images/taobao2021.png" /></p>
<p>å¦ä¸€ç§æ–¹æ³•è®¾ç½®ç”¨æˆ·ç›®å½•</p>
<p>å¯ä»¥è¿›ä¸€æ­¥å…å»æ·˜å®ç™»å½•çš„çƒ¦æ¼ã€‚å¹³æ—¶æˆ‘ä»¬å·²ç»æ³¨æ„åˆ°ï¼Œå½“æˆ‘ä»¬ç™»å½•æ·˜å®ä¹‹åï¼Œå¦‚æœä¸‹æ¬¡å†æ¬¡æ‰“å¼€æµè§ˆå™¨å‘ç°è¿˜æ˜¯ç™»å½•çš„çŠ¶æ€ã€‚è¿™æ˜¯å› ä¸ºæ·˜å®çš„ä¸€äº›å…³é”® Cookies å·²ç»ä¿å­˜åˆ°æœ¬åœ°äº†ï¼Œä¸‹æ¬¡ç™»å½•çš„æ—¶å€™å¯ä»¥ç›´æ¥è¯»å–å¹¶ä¿æŒç™»å½•çŠ¶æ€ã€‚</p>
<ul class="simple">
<li><p>è¿™äº›ä¿¡æ¯ä¿å­˜åœ¨ç”¨æˆ·ç›®å½•ä¸‹äº†</p>
<ul>
<li><p>é‡Œé¢ä¸ä»…åŒ…å«äº†æµè§ˆå™¨çš„åŸºæœ¬é…ç½®ä¿¡æ¯ï¼Œ</p></li>
<li><p>è¿˜æœ‰ä¸€äº› Cacheã€Cookies ç­‰å„ç§ä¿¡æ¯éƒ½åœ¨é‡Œé¢</p></li>
</ul>
</li>
<li><p>å¦‚æœæˆ‘ä»¬èƒ½åœ¨æµè§ˆå™¨å¯åŠ¨çš„æ—¶å€™è¯»å–è¿™äº›ä¿¡æ¯ï¼Œé‚£ä¹ˆå¯åŠ¨çš„æ—¶å€™å°±å¯ä»¥æ¢å¤ä¸€äº›å†å²è®°å½•ç”šè‡³ä¸€äº›ç™»å½•çŠ¶æ€ä¿¡æ¯äº†ã€‚</p></li>
</ul>
<p>è¿™ä¹Ÿå°±è§£å†³äº†ä¸€ä¸ªé—®é¢˜ï¼šå¾ˆå¤šæœ‹å‹åœ¨æ¯æ¬¡å¯åŠ¨ Selenium æˆ– Pyppeteer çš„æ—¶å€™æ€»æ˜¯æ˜¯ä¸€ä¸ªå…¨æ–°çš„æµè§ˆå™¨ï¼Œé‚£å°±æ˜¯æ²¡æœ‰è®¾ç½®ç”¨æˆ·ç›®å½•ï¼Œå¦‚æœè®¾ç½®äº†å®ƒï¼Œæ¯æ¬¡æ‰“å¼€å°±ä¸å†æ˜¯ä¸€ä¸ªå…¨æ–°çš„æµè§ˆå™¨äº†ï¼Œå®ƒå¯ä»¥æ¢å¤ä¹‹å‰çš„å†å²è®°å½•ï¼Œä¹Ÿå¯ä»¥æ¢å¤å¾ˆå¤šç½‘ç«™çš„ç™»å½•ä¿¡æ¯ã€‚</p>
<p>é‚£ä¹ˆè¿™ä¸ªæ€ä¹ˆæ¥åšå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œåœ¨å¯åŠ¨çš„æ—¶å€™è®¾ç½® userDataDir å°±å¥½äº†ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">pyppeteer</span> <span class="kn">import</span> <span class="n">launch</span>


<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">browser</span> <span class="o">=</span> <span class="k">await</span> <span class="n">launch</span><span class="p">(</span><span class="n">headless</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">userDataDir</span><span class="o">=</span><span class="s1">&#39;../userdata&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;--disable-infobars&#39;</span><span class="p">])</span>
    <span class="n">page</span> <span class="o">=</span> <span class="k">await</span> <span class="n">browser</span><span class="o">.</span><span class="n">newPage</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="s1">&#39;https://login.taobao.com/member/login.jhtml?redirectURL=https://www.taobao.com/&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span>
        <span class="sd">&#39;&#39;&#39;() =&gt;{ Object.defineProperties(navigator,{ webdriver:{ get: () =&gt; false } }) }&#39;&#39;&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>ä¸Šé¢ğŸ‘†ä»£ç åŠ äº†ä¸€ä¸ª userDataDir çš„å±æ€§ï¼Œå€¼ä¸º userdataï¼Œå³å½“å‰ç›®å½•å¤–é¢çš„ userdata æ–‡ä»¶å¤¹ã€‚</p>
<ul>
<li><p>ç„¶åç™»å½•ä¸€æ¬¡æ·˜å®ï¼Œè¿™æ—¶å€™æˆ‘ä»¬åŒæ—¶å¯ä»¥è§‚å¯Ÿåˆ°åœ¨å½“å‰è¿è¡Œç›®å½•ä¸‹åˆå¤šäº†ä¸€ä¸ª userdata çš„æ–‡ä»¶å¤¹</p></li>
</ul>
</li>
<li><p>ä¸‹é¢ğŸ‘‡ä»£ç å†æ¬¡è¿è¡Œï¼Œè¿™æ—¶å€™å¯ä»¥å‘ç°ç°åœ¨å°±å·²ç»æ˜¯ç™»å½•çŠ¶æ€äº†ï¼Œä¸éœ€è¦å†æ¬¡ç™»å½•äº†ï¼Œè¿™æ ·å°±æˆåŠŸè·³è¿‡äº†ç™»å½•çš„æµç¨‹ã€‚</p>
<ul>
<li><p>å½“ç„¶å¯èƒ½æ—¶é—´å¤ªä¹…äº†ï¼ŒCookies éƒ½è¿‡æœŸäº†ï¼Œé‚£è¿˜æ˜¯éœ€è¦ç™»å½•çš„</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">pyppeteer</span> <span class="kn">import</span> <span class="n">launch</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">browser</span> <span class="o">=</span> <span class="k">await</span> <span class="n">launch</span><span class="p">(</span><span class="n">headless</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">userDataDir</span><span class="o">=</span><span class="s1">&#39;../userdata&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;--disable-infobars&#39;</span><span class="p">])</span>
    <span class="n">page</span> <span class="o">=</span> <span class="k">await</span> <span class="n">browser</span><span class="o">.</span><span class="n">newPage</span><span class="p">()</span>
    <span class="k">await</span> <span class="n">page</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="s1">&#39;https://www.taobao.com&#39;</span><span class="p">)</span>
    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">get_event_loop</span><span class="p">()</span><span class="o">.</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p>å…·ä½“çš„ä»‹ç»å¯ä»¥çœ‹å®˜æ–¹çš„ä¸€äº›è¯´æ˜ï¼Œå¦‚ï¼š</p>
<p>https://chromium.googlesource.com/chromium/src/+/master/docs/user_data_dir.md</p>
<p>è¿™é‡Œé¢ä»‹ç»äº† userdatadir çš„ç›¸å…³å†…å®¹ã€‚</p>
<p>å†æ¬¡è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œè¿™æ—¶å€™å¯ä»¥å‘ç°ç°åœ¨å°±å·²ç»æ˜¯ç™»å½•çŠ¶æ€äº†ï¼Œä¸éœ€è¦å†æ¬¡ç™»å½•äº†ï¼Œè¿™æ ·å°±æˆåŠŸè·³è¿‡äº†ç™»å½•çš„æµç¨‹ã€‚å½“ç„¶å¯èƒ½æ—¶é—´å¤ªä¹…äº†ï¼ŒCookies éƒ½è¿‡æœŸäº†ï¼Œé‚£è¿˜æ˜¯éœ€è¦ç™»å½•çš„ã€‚</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="04-crawler-tripadvisor.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">ä½¿ç”¨SeleniumæŠ“å–TripAdvisorç”¨æˆ·è¯„è®º</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="04-crawler-weibo.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">è½»å‹å¾®åšçˆ¬è™«</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Cheng-Jun Wang<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>